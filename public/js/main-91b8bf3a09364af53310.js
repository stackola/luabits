!function(t){function e(e){for(var o,i,c=e[0],u=e[1],l=e[2],s=0,p=[];s<c.length;s++)i=c[s],r[i]&&p.push(r[i][0]),r[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);for(f&&f(e);p.length;)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,c=1;c<n.length;c++){var u=n[c];0!==r[u]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={0:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var f=u;a.push([170,1]),n()}({170:function(t,e,n){n(171),t.exports=n(390)},390:function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"user",function(){return _});var r={};n.r(r),n.d(r,"config",function(){return g});var a={};n.r(a),n.d(a,"setUserObject",function(){return R}),n.d(a,"userSubscribe",function(){return F}),n.d(a,"userUnsubscribe",function(){return M});var i={};n.r(i),n.d(i,"setConfig",function(){return A}),n.d(i,"configSubscribe",function(){return z}),n.d(i,"configUnsubscribe",function(){return D});var c=n(0),u=n.n(c),l=n(110),f=n.n(l),s=n(15),p=n(8),b=n(162),y=n(163);function m(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,o=arguments.length>1?arguments[1]:void 0;return e.hasOwnProperty(o.type)?e[o.type](n,o):n}}var h="SET_USER_OBJECT",d="SET_CONFIG";function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=m({username:"Anon"},v({},h,function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){v(t,e,n[e])})}return t}({},e.payload)}));function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=m({},O({},d,function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){O(t,e,n[e])})}return t}({},e.payload)})),j=Object(p.c)(Object.assign({},o,r)),w=Object(y.createLogger)({predicate:function(t,e){return!0}});var E,S,P=(E={},S=Object(p.d)(Object(p.a)(b.a,w)),Object(p.e)(j,E,S)),k=n(54),C=n.n(k),T=n(36),x=n.n(T),N=T.apps.length?T.app():T.initializeApp({apiKey:"AIzaSyCZ1lIT4TLykoaSYLHx_jrhllxewX2MNQI",authDomain:"luabits-a4c52.firebaseapp.com",databaseURL:"https://luabits-a4c52.firebaseio.com",projectId:"luabits-a4c52",storageBucket:"luabits-a4c52.appspot.com",messagingSenderId:"464053184148"}),B=function(){console.log("cant do that.")};function R(t){return{type:h,payload:t}}function F(t){var e=N.auth().currentUser.uid;return function(n,o){B=N.firestore().collection("users").doc(e).onSnapshot(function(e){console.log(e),e.exists?(n(R(e.data())),t&&t()):n(R({}))})}}function M(t){return B(),t&&t(),R({coins:0})}var I=function(){console.log("cant do that.")};function A(t){return{type:d,payload:t}}function z(t){x.a.auth().currentUser.uid;return function(e,n){I=x.a.firestore().collection("config").doc("main").onSnapshot(function(n){console.log(n),n.exists?(e(A(n.data())),t&&t()):e(A({}))})}}function D(t){return I(),t&&t(),{type:"none"}}var L=Object.assign({},i,a),U=(n(391),n(12)),Q=(n(396),n(18));function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function V(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var K=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,W(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){return u.a.createElement("div",{className:"Header__ua6JY"},u.a.createElement("div",{className:"inner__2nAVp"},u.a.createElement(Q.b,{className:"logo__2hwuC",to:"/"},"luabits.com"),u.a.createElement("div",null,"| alpha")))}}])&&H(n.prototype,o),r&&H(n,r),e}();n(398),n(400),n(402);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var X={style:{Title:"Title__1NSc_",sub:"sub__2sWY2"}};function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function G(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var et=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),G(this,$(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){return u.a.createElement("div",{className:C()("Title "+(this.props.sub?"sub":""),X)},this.props.children)}}])&&Z(n.prototype,o),r&&Z(n,r),e}();n(404);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function rt(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ct=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),rt(this,at(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){return u.a.createElement(Q.b,{to:"/project/view/"+this.props.match.params.id,className:"BackToProject__Dog72"},"< back")}}])&&ot(n.prototype,o),r&&ot(n,r),e}(),ut=Object(U.e)(ct);function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function st(t,e){return!e||"object"!==lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),st(this,pt(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){return u.a.createElement("div",{className:"Wrapper__3zuig"},this.props.showBack&&u.a.createElement(ut,null),u.a.createElement(et,null,this.props.title),this.props.children)}}])&&ft(n.prototype,o),r&&ft(n,r),e}(),mt=(n(406),n(165)),ht=n.n(mt);function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _t(t,e){return!e||"object"!==dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_t(this,Ot(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){var t=this;return this.props.loading?u.a.createElement("div",{className:"BigButton__2PUVQ"},u.a.createElement(ht.a,{type:"spin",color:"white",height:20,width:20})):this.props.route?u.a.createElement(Q.b,{className:"BigButton__2PUVQ",to:this.props.route},this.props.children):u.a.createElement("div",{className:"BigButton__2PUVQ",onClick:function(){t.props.onClick&&t.props.onClick()}},this.props.children)}}])&&vt(n.prototype,o),r&&vt(n,r),e}();n(408);function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function St(t,e){return!e||"object"!==wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ct=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),St(this,Pt(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){return u.a.createElement("div",{className:"Spacer__mCvPQ"})}}])&&Et(n.prototype,o),r&&Et(n,r),e}();n(410);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Nt(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Nt(this,Bt(e).call(this,t))).state={items:[],loading:!0},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(e,u.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){this.get()}},{key:"get",value:function(){var t=this,e=this.props.collection,n=this.props.path;N.firestore().doc(n).collection(e).get().then(function(e){console.log(e),t.setState({loading:!1,items:e.docs.map(function(t){return t.data()})},function(){console.log(t.state)})})}},{key:"render",value:function(){var t=this;return u.a.createElement(u.a.Fragment,null,this.state.items&&this.state.items.map(function(e){return t.props.renderItem(e)}))}}])&&xt(n.prototype,o),r&&xt(n,r),e}(),Mt=n(166),It=n.n(Mt),At=N.functions().httpsCallable("newProject"),zt=N.functions().httpsCallable("addBucket"),Dt=N.functions().httpsCallable("addFunction"),Lt=N.functions().httpsCallable("updateFunction");function Ut(){return N.auth().currentUser?N.auth().currentUser.uid:null}n(412);function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ht(t,e){return!e||"object"!==Qt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yt,Kt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ht(this,Vt(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){return u.a.createElement(Q.b,{to:"/project/view/"+this.props.id,className:"ProjRow__3b6C_"},this.props.name)}}])&&Jt(n.prototype,o),r&&Jt(n,r),e}();function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Zt(t,e){return!e||"object"!==qt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var te=Object(s.b)(function(t){return{}},function(t){return Object(p.b)(L,t)})(Yt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Zt(this,Gt(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){return u.a.createElement(yt,{title:"Home"},u.a.createElement(et,{sub:!0},"Your Projects:"),u.a.createElement(Ft,{path:"users/"+Ut(),collection:"projects",renderItem:function(t){return u.a.createElement(Kt,t)}}),u.a.createElement(jt,{route:"/project/create"},"+ Create a new project"))}}])&&Xt(n.prototype,o),r&&Xt(n,r),e}())||Yt;n(414),n(416);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function oe(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ae(t,e){return(ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ie,ce=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),oe(this,re(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ae(t,e)}(e,u.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var t=this;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"label__3nXF4"},this.props.label),u.a.createElement("input",{ref:function(e){t.ref=e},placeholder:this.props.placeholder,readOnly:this.props.readOnly,className:"BigInput__19t8h",value:this.props.value,onChange:function(e){t.props.onChange(e.target.value)}}))}}])&&ne(n.prototype,o),r&&ne(n,r),e}();function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fe(t,e){return!e||"object"!==ue(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var be=Object(s.b)(function(t){return{}},function(t){return Object(p.b)(L,t)})(ie=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=fe(this,se(e).call(this,t))).state={name:""},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pe(t,e)}(e,u.a.Component),n=e,(o=[{key:"create",value:function(){var t=this;this.setState({status:"loading"},function(){var e;(e={name:t.state.name},At(e)).then(function(e){if(console.log(e),"ok"!==e.data.status)return console.log("Stuff went wrong."),void t.setState({status:"error"});t.props.history.push("/project/view/"+e.data.newProject)})})}},{key:"render",value:function(){var t=this;return u.a.createElement(yt,{title:"Create new project"},u.a.createElement(ce,{label:"Project name",value:this.state.name,onChange:function(e){t.setState({name:e})}}),u.a.createElement(Ct,null),u.a.createElement(jt,{loading:"loading"==this.state.status,onClick:function(){t.create()}},"Next"),"error"==this.state.status&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Ct,null),u.a.createElement("div",null,"Error creating bucket. Name already taken?")))}}])&&le(n.prototype,o),r&&le(n,r),e}())||ie;var ye=Object(U.e)(be);n(418),n(420);function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function he(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){de(t,e,n[e])})}return t}function de(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ve(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _e(t,e){return!e||"object"!==me(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oe(t){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var je=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=_e(this,Oe(e).call(this,t))).state={item:null,loading:!0},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(e,u.a.Component),n=e,(o=[{key:"getOnce",value:function(){var t=this,e=this.props.path;N.firestore().doc(e).get().then(function(e){t.setState({loading:!1,item:he({},e.data(),{_id:e.id})},function(){})})}},{key:"sub",value:function(){var t=this,e=this.props.path;this.unsub=N.firestore().doc(e).onSnapshot(function(e){t.setState({loading:!1,item:he({},e.data(),{_id:e.id})},function(){})})}},{key:"componentDidMount",value:function(){this.props.realtime?this.sub():this.getOnce()}},{key:"componentWillUnmount",value:function(){this.unsub&&this.unsub()}},{key:"render",value:function(){return this.state.loading?this.props.loading||u.a.createElement("div",null,"Loading!!"):this.props.children(this.state.item)}}])&&ve(n.prototype,o),r&&ve(n,r),e}();n(422);function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Se(t,e){return!e||"object"!==we(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pe(t){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ke(t,e){return(ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ce=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Se(this,Pe(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ke(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){return u.a.createElement(Q.b,{to:"/project/view/"+this.props.project+"/bucket/"+this.props.children,className:"Bucket__19sjf"},this.props.children)}}])&&Ee(n.prototype,o),r&&Ee(n,r),e}();n(424);function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ne(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Re(t,e){return(Re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fe,Me=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ne(this,Be(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Re(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){return u.a.createElement(Q.b,{to:"/project/view/"+this.props.project+"/editFunction/"+this.props.name,className:"FuncRow__3U47z"},this.props.name)}}])&&xe(n.prototype,o),r&&xe(n,r),e}();function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(){return(Ae=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function ze(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function De(t,e){return!e||"object"!==Ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Le(t){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ue(t,e){return(Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qe=Object(s.b)(function(t){return{}},function(t){return Object(p.b)(L,t)})(Fe=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),De(this,Le(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){var t=this.props.match.params.id,e="users/"+Ut()+"/projects/"+t;return u.a.createElement(je,{key:t,path:e,loading:u.a.createElement(yt,{title:"Loading..."})},function(n){return u.a.createElement(yt,{title:"Project: "+n.name},u.a.createElement(et,{sub:!0},"Buckets:"),n.buckets&&n.buckets.map(function(e){return u.a.createElement(Ce,{project:t,key:e},e)}),u.a.createElement(jt,{route:"/project/view/"+t+"/createBucket"},"+ Add a bucket"),u.a.createElement(Ct,null),u.a.createElement(et,{sub:!0},"Functions:"),u.a.createElement(Ft,{path:e,collection:"functions",renderItem:function(t){return u.a.createElement(Me,Ae({},t,{key:t.name}))}}),u.a.createElement(jt,{route:"/project/view/"+t+"/createFunction"},"+ Add a function"))})}}])&&ze(n.prototype,o),r&&ze(n,r),e}())||Fe;var Je,He=Object(U.e)(Qe);n(426);function Ve(t){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ye(t,e){return!e||"object"!==Ve(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ke(t){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qe(t,e){return(qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xe=Object(s.b)(function(t){return{}},function(t){return Object(p.b)(L,t)})(Je=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ye(this,Ke(e).call(this,t))).state={name:"",status:"start"},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qe(t,e)}(e,u.a.Component),n=e,(o=[{key:"create",value:function(){var t=this,e=this.props.match.params.id;this.setState({status:"loading"},function(){var n;(n={pid:e,name:t.state.name},zt(n)).then(function(n){if(console.log(n),"ok"!==n.data.status)return console.log("Stuff went wrong."),void t.setState({status:"error"});t.props.history.push("/project/view/"+e)})})}},{key:"render",value:function(){var t=this;return u.a.createElement(yt,{title:"Create a bucket",showBack:!0},u.a.createElement(ce,{label:"Bucket name",value:this.state.name,onChange:function(e){t.setState({name:e})}}),u.a.createElement(Ct,null),u.a.createElement(jt,{loading:"loading"==this.state.status,onClick:function(){t.create()}},"Next"),"error"==this.state.status&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Ct,null),u.a.createElement("div",null,"Error creating bucket. Name already taken?")))}}])&&We(n.prototype,o),r&&We(n,r),e}())||Je;var Ze=Object(U.e)(Xe),Ge=(n(428),n(167)),$e=n.n(Ge);n(430);function tn(t){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function en(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function nn(t,e){return!e||"object"!==tn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rn(t,e){return(rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(386);var an=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),nn(this,on(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rn(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){var t=this;return u.a.createElement(u.a.Fragment,null,u.a.createElement($e.a,{options:{mode:"lua"},value:this.props.value,onChange:function(e){console.log("change"),t.props.onChange(e)}}))}}])&&en(n.prototype,o),r&&en(n,r),e}();n(432);function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function un(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ln(t,e){return!e||"object"!==cn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fn(t){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sn(t,e){return(sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pn,bn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ln(this,fn(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sn(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){return u.a.createElement("div",{className:"Docs__3bFQ-"},u.a.createElement(et,{sub:!0},"Available APIs:"),u.a.createElement("div",{className:"section__1tyBK"},u.a.createElement("div",{className:"sub__d0bb9"},"query"),u.a.createElement("div",{className:"row__1Mxue"},"The query variable holds the URL parameters. The names 'uid', 'pid' and 'func' are reserved, you can add as many others as you like.")),u.a.createElement("div",{className:"section__1tyBK"},u.a.createElement("div",{className:"sub__d0bb9"},"json"),u.a.createElement("div",{className:"row__1Mxue"},"The json variable holds the JSON values posted to your function.")),u.a.createElement("div",{className:"section__1tyBK"},u.a.createElement("div",{className:"sub__d0bb9"},"db"),u.a.createElement("div",{className:"row__1Mxue"},"db.create( bucket, data, callback? )"),u.a.createElement("div",{className:"row__1Mxue"},"db.update( bucket, id, data, callback? )"),u.a.createElement("div",{className:"row__1Mxue"},"db.get( bucket, id, callback? )"),u.a.createElement("div",{className:"row__1Mxue"},"db.list( bucket, callback? )"),u.a.createElement("div",{className:"row__1Mxue"},"*db.find( bucket, needle_key, neeld_value, callback? )")),u.a.createElement("div",{className:"section__1tyBK"},u.a.createElement("div",{className:"sub__d0bb9"},"response"),u.a.createElement("div",{className:"row__1Mxue"},"response.send( data )"),u.a.createElement("div",{className:"row__1Mxue"},"response.error( data )")),u.a.createElement("div",{className:"section__1tyBK"},u.a.createElement("div",{className:"sub__d0bb9"},"utils"),u.a.createElement("div",{className:"row__1Mxue"},"*utils.log( data )")))}}])&&un(n.prototype,o),r&&un(n,r),e}();function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function hn(t,e){return!e||"object"!==yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vn(t,e){return(vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _n=Object(s.b)(function(t){return{}},function(t){return Object(p.b)(L,t)})(pn=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=hn(this,dn(e).call(this,t))).state={code:'response.send("Hello luabits!")',name:"",status:"start"},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vn(t,e)}(e,u.a.Component),n=e,(o=[{key:"updateCode",value:function(t){var e=this;this.setState({code:t},function(){console.log(e.state)})}},{key:"send",value:function(){var t=this,e=this.props.match.params.id,n={sourceName:"@lua/9ed776b0-48fc-11e9-b866-d5df7d24f98e.lua",lineDefined:0,lastLineDefined:0,upvalueCount:0,paramCount:0,is_vararg:2,maxStackSize:2,instructions:[5,0,0,0,6,0,0,257,1,1,2,0,28,0,2,1,30,0,1,0],constants:["response","send","Hello luabits!"],functions:[],linePositions:[2,2,2,2,2],locals:[],upvalues:[],sourcePath:"lua/9ed776b0-48fc-11e9-b866-d5df7d24f98e.lua"};this.setState({status:"loading"},function(){var o;(o={pid:e,name:t.state.name,source:t.state.code,byteCode:n},Dt(o)).then(function(n){console.log(n),n.data.newFunction?t.props.history.push("/project/view/"+e+"/editFunction/"+n.data.newFunction):t.setState({status:"error"})}).catch(function(e){t.setState({status:"error"})})})}},{key:"render",value:function(){var t=this;return u.a.createElement(yt,{title:"Create a function",showBack:!0},u.a.createElement(ce,{placeholder:"Name",value:this.state.name,onChange:function(e){t.setState({name:e})}}),u.a.createElement(Ct,null),u.a.createElement(jt,{loading:"loading"==this.state.status,onClick:function(){t.send()}},"Continue"),"error"==this.state.status&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Ct,null),u.a.createElement("div",null,"Error creating function. Name already taken?")))}}])&&mn(n.prototype,o),r&&mn(n,r),e}())||pn;var On,gn=Object(U.e)(_n),jn=(n(434),n(168));function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Sn(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cn=Object(s.b)(function(t){return{}},function(t){return Object(p.b)(L,t)})(On=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Sn(this,Pn(e).call(this,t))).state={code:"loading..",name:"loading..",loading:!0,status:"start"},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(e,u.a.Component),n=e,(o=[{key:"updateCode",value:function(t){var e=this;this.setState({code:t},function(){console.log(e.state)})}},{key:"send",value:function(){var t=this,e=this.props.match.params.id;this.setState({status:"compiling"},function(){var n;(n=t.state.code,It.a.post("http://178.128.176.56:3000/",{source:n})).then(function(n){if(n.data.status&&"ok"==n.data.status){console.log("ok");var o=n.data.bytecode;console.log(JSON.stringify(o)),t.setState({status:"saving"},function(){var n;(n={pid:e,name:t.state.name,source:t.state.code,byteCode:o},Lt(n)).then(function(){t.setState({status:"done"})}).catch(function(e){t.setState({status:"error",errorText:"Error saving the script."}),console.log("err",e)})})}else t.setState({status:"error",errorText:n.data.err}),console.log("err",n)})})}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"fetch",value:function(){var t=this,e=this.props.match.params.id,n=Ut(),o=this.props.match.params.fid;console.log("users/"+n+"/projects/"+e+"/functions/"+o),N.firestore().doc("users/"+n+"/projects/"+e+"/functions/"+o).get().then(function(e){console.log("got func",e.data());var n=e.data();t.setState({name:n.name,code:n.source,loading:!1})})}},{key:"render",value:function(){var t=this,e=this.props.match.params.id,n=Ut(),o=this.props.match.params.fid;return this.state.loading?u.a.createElement(yt,{title:"loading..."}):u.a.createElement(yt,{title:"Edit function: "+this.state.name,showBack:!0},u.a.createElement(an,{value:this.state.code,onChange:function(e){console.log("trying"),t.updateCode(e)}}),u.a.createElement(Ct,null),u.a.createElement(jt,{loading:"compiling"==this.state.status||"saving"==this.state.status,onClick:function(){t.send()}},"Update"),"error"==this.state.status&&u.a.createElement("div",{className:"error__OgTki"},"Error: ",this.state.errorText),"done"==this.state.status&&u.a.createElement("div",{className:"done__SCAsC"},"Saved."),u.a.createElement(Ct,null),u.a.createElement("div",null,u.a.createElement(jn.CopyToClipboard,{text:"https://us-central1-luabits-a4c52.cloudfunctions.net/run?uid="+n+"&pid="+e+"&func="+o},u.a.createElement("button",{className:"clickToCopy__1VsJb"},"Click to copy")),u.a.createElement("a",{className:"funcLink__2RFWT",target:"_blank",href:"https://us-central1-luabits-a4c52.cloudfunctions.net/run?uid="+n+"&pid="+e+"&func="+o},"https://us-central1-luabits-a4c52.cloudfunctions.net/run?uid=",n,"&pid=",e,"&func=",o)),u.a.createElement("div",null),u.a.createElement(bn,null))}}])&&En(n.prototype,o),r&&En(n,r),e}())||On;var Tn=Object(U.e)(Cn);n(436),n(438);function xn(t){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Nn={style:{FirebaseTable:"FirebaseTable__1_oTY",loadMore:"loadMore__1uRvC",horizontal:"horizontal__2M3l_",loading:"loading__1_UdQ"}};function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Mn(t,e){return!e||"object"!==xn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function In(t){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function An(t,e){return(An=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zn=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Mn(this,In(e).call(this,t))).state={pageSize:5,items:[],hasMore:!0,loading:!0},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&An(t,e)}(e,u.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){this.fetchItems()}},{key:"fetchItems",value:function(){var t=this,e=this.props.order||null,n=this.props.where||null,o=this.props.pageSize||this.state.pageSize,r=this.props.path,a=N.firestore().collection(r).limit(o);e&&(a=a.orderBy(e[0],e[1])),n&&(a=a.where(n[0],n[1],n[2])),this.state.items.length>0&&(a=a.startAfter(this.state.items[this.state.items.length-1])),a.get().then(function(e){var n=[];e.forEach(function(t){console.log(t.id," => ",t.data()),n.push(t)}),t.setState({items:[].concat(Rn(t.state.items),n),loading:!1,hasMore:n.length==o},function(){console.log(t.state)})})}},{key:"loadMore",value:function(){var t=this;this.setState({loading:!0},function(){t.fetchItems()})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",{className:"FirebaseTable__1_oTY",style:this.props.style},this.state.items.map(function(e,n){var o=e.data();return o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){Bn(t,e,n[e])})}return t}({},o,{_id:e.id}),t.props.renderItem(o)}),this.state.hasMore&&!this.state.loading&&u.a.createElement("div",{onClick:function(){return t.loadMore()},className:C()("loadMore "+(this.props.horizontal?"horizontal":""),Nn)},"Load more"),this.state.loading&&(this.props.loading?this.props.loading:u.a.createElement("div",{className:C()("loading "+(this.props.horizontal?"horizontal":""),Nn)},u.a.createElement("div",null,"Loading..."))))}}])&&Fn(n.prototype,o),r&&Fn(n,r),e}(),Dn=(n(440),n(169)),Ln=n.n(Dn);function Un(t){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Hn(t,e){return!e||"object"!==Un(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vn(t){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wn(t,e){return(Wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yn,Kn=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Hn(this,Vn(e).call(this,t))).state={open:!1},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wn(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){var t=this,e=this.props.data;return e.time&&e.time.toDate&&(e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){Qn(t,e,n[e])})}return t}({},e,{time:e.time.toDate()})),u.a.createElement("div",{className:"JsonBox__23WxQ",onClick:function(){t.setState({open:!t.state.open})}},u.a.createElement(Ln.a,{duration:500,height:this.state.open?"auto":40},JSON.stringify(e,null,4),u.a.createElement("div",{style:{height:8}})))}}])&&Jn(n.prototype,o),r&&Jn(n,r),e}();function qn(t){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Zn(t,e){return!e||"object"!==qn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $n(t,e){return($n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var to=Object(s.b)(function(t){return{}},function(t){return Object(p.b)(L,t)})(Yn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Zn(this,Gn(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$n(t,e)}(e,u.a.Component),n=e,(o=[{key:"render",value:function(){var t=this.props.match.params.id,e=this.props.match.params.bucket,n="users/"+Ut()+"/projects/"+t+"/buckets/main/"+e;return console.log(n),u.a.createElement(yt,{title:"Bucket: "+e,showBack:!0},u.a.createElement(zn,{path:n,pageSize:10,order:["time","desc"],renderItem:function(t){return u.a.createElement(Kn,{data:t,key:t._id})}}),u.a.createElement(Ct,null))}}])&&Xn(n.prototype,o),r&&Xn(n,r),e}())||Yn;var eo,no,oo=Object(U.e)(to);function ro(t){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ao={style:{app:"app__2-NKO",main:"main__1Qz2V"}};function io(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function co(t,e){return!e||"object"!==ro(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uo(t){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lo(t,e){return(lo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fo=(eo=Object(s.b)(function(t){return{user:t.user}},function(t){return Object(p.b)(L,t)}),Object(U.e)(no=eo(no=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=co(this,uo(e).call(this,t))).state={loggedIn:!1},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lo(t,e)}(e,c["Component"]),n=e,(o=[{key:"componentDidMount",value:function(){var t=this;N.auth().onAuthStateChanged(function(e){console.log("THAT CHANGE!",e),e.uid&&(t.setState({loggedIn:!0}),t.props.userSubscribe())}),N.auth().setPersistence(x.a.auth.Auth.Persistence.LOCAL).then(function(){N.auth().signInAnonymously().catch(function(t){t.code,t.message})})}},{key:"render",value:function(){return console.log(this.props),u.a.createElement("div",{className:C()("main",ao)},u.a.createElement(K,null),this.state.loggedIn?u.a.createElement(U.c,null,u.a.createElement(U.a,{exact:!0,path:"/"},u.a.createElement(te,null)),u.a.createElement(U.a,{exact:!0,path:"/project/view/:id"},u.a.createElement(He,null)),u.a.createElement(U.a,{exact:!0,path:"/project/view/:id/createBucket"},u.a.createElement(Ze,null)),u.a.createElement(U.a,{exact:!0,path:"/project/view/:id/createFunction"},u.a.createElement(gn,null)),u.a.createElement(U.a,{exact:!0,path:"/project/view/:id/editFunction/:fid"},u.a.createElement(Tn,null)),u.a.createElement(U.a,{exact:!0,path:"/project/view/:id/bucket/:bucket"},u.a.createElement(oo,null)),u.a.createElement(U.a,{exact:!0,path:"/project/create"},u.a.createElement(ye,null))):u.a.createElement(yt,{title:"Loading..."}))}}])&&io(n.prototype,o),r&&io(n,r),e}())||no)||no);var so;so=fo,f.a.render(u.a.createElement(s.a,{store:P},u.a.createElement(Q.a,null,u.a.createElement(so,null))),document.getElementById("app"))},391:function(t,e){},396:function(t,e){t.exports={Header:"Header__ua6JY",inner:"inner__2nAVp",logo:"logo__2hwuC"}},398:function(t,e){t.exports={Home:"Home__2STab"}},400:function(t,e){t.exports={Wrapper:"Wrapper__3zuig"}},402:function(t,e){t.exports={Title:"Title__1NSc_",sub:"sub__2sWY2"}},404:function(t,e){t.exports={BackToProject:"BackToProject__Dog72"}},406:function(t,e){t.exports={BigButton:"BigButton__2PUVQ"}},408:function(t,e){t.exports={Spacer:"Spacer__mCvPQ"}},410:function(t,e){t.exports={CollectionLoader:"CollectionLoader__lLhta"}},412:function(t,e){t.exports={ProjRow:"ProjRow__3b6C_"}},414:function(t,e){t.exports={NewProject:"NewProject__2cm1a"}},416:function(t,e){t.exports={label:"label__3nXF4",BigInput:"BigInput__19t8h"}},418:function(t,e){t.exports={Project:"Project__2irUa"}},420:function(t,e){t.exports={ItemLoader:"ItemLoader__3-Z4C"}},422:function(t,e){t.exports={Bucket:"Bucket__19sjf"}},424:function(t,e){t.exports={FuncRow:"FuncRow__3U47z"}},426:function(t,e){t.exports={CreateBucket:"CreateBucket__3gd3p"}},428:function(t,e){t.exports={CreateFunction:"CreateFunction__295xT"}},432:function(t,e){t.exports={Docs:"Docs__3bFQ-",section:"section__1tyBK",sub:"sub__d0bb9",row:"row__1Mxue"}},434:function(t,e){t.exports={EditFunction:"EditFunction__ZbVkq",error:"error__OgTki",done:"done__SCAsC",funcLink:"funcLink__2RFWT",clickToCopy:"clickToCopy__1VsJb"}},436:function(t,e){t.exports={Bucket:"Bucket__2zBVA"}},438:function(t,e){t.exports={FirebaseTable:"FirebaseTable__1_oTY",loadMore:"loadMore__1uRvC",horizontal:"horizontal__2M3l_",loading:"loading__1_UdQ"}},440:function(t,e){t.exports={JsonBox:"JsonBox__23WxQ"}}});
//# sourceMappingURL=main-91b8bf3a09364af53310.js.map