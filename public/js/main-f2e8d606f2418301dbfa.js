!function(e){function t(t){for(var n,i,c=t[0],s=t[1],u=t[2],p=0,f=[];p<c.length;p++)i=c[p],o[i]&&f.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(l&&l(t);f.length;)f.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,c=1;c<r.length;c++){var s=r[c];0!==o[s]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={0:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;a.push([230,1]),r()}({230:function(e,t,r){r(231),e.exports=r(551)},551:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"user",function(){return h});var o={};r.r(o),r.d(o,"setUserObject",function(){return J}),r.d(o,"userSubscribe",function(){return q}),r.d(o,"userUnsubscribe",function(){return A});var a=r(0),i=r.n(a),c=r(135),s=r.n(c),u=r(6),l=r(4),p=r(224),f=r(225);var m="SET_USER_OBJECT";function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b,y,h=(b={username:"Anon"},y=d({},m,function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){d(e,t,r[t])})}return e}({},t.payload)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;return y.hasOwnProperty(t.type)?y[t.type](e,t):e}),_=Object(l.c)(Object.assign({},n)),g=r(42),v=r.n(g),E=(r(408),r(410),v.a.apps.length?v.a.app():v.a.initializeApp({apiKey:"AIzaSyCZ1lIT4TLykoaSYLHx_jrhllxewX2MNQI",authDomain:"luabits-a4c52.firebaseapp.com",databaseURL:"https://luabits-a4c52.firebaseio.com",projectId:"luabits-a4c52",storageBucket:"luabits-a4c52.appspot.com",messagingSenderId:"464053184148"})),w=r(72),O=r.n(w),k=E.functions().httpsCallable("newProject"),j=E.functions().httpsCallable("addBucket"),S=E.functions().httpsCallable("addFunction"),C=E.functions().httpsCallable("updateFunction"),M=E.functions().httpsCallable("forkFunction"),P=E.functions().httpsCallable("getPublicFunction");E.functions().httpsCallable("getPublicProject");function x(){return E.auth().currentUser?E.auth().currentUser.uid:null}function T(e){return C(e)}function N(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9\-]/gi,"")}function R(){return E.auth().currentUser.providerData.map(function(e){return"google.com"==e.providerId}).length>0}var I=Object(f.createLogger)({predicate:function(e,t){return!1}});var L=function(e){var t=Object(l.d)(Object(l.a)(p.a,I));return Object(l.e)(_,e,t)}({}),B=r(16),F=r.n(B),z=function(){console.log("cant do that.")};function J(e){return{type:m,payload:e}}function q(e){var t=E.auth().currentUser.uid;return function(r,n){z=E.firestore().collection("users").doc(t).onSnapshot(function(t){t.exists?(r(J(t.data())),e&&e()):r(J({}))})}}function A(e){return z(),e&&e(),J({coins:0})}var V=Object.assign({},o),W=(r(552),r(184),r(5)),U=(r(557),r(14));function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Y(this,H(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:"Header__ua6JY"},i.a.createElement("div",{className:"inner__2nAVp"},i.a.createElement("div",{className:"logoWrapper__3aRiH"},i.a.createElement(U.Link,{className:"logo__2hwuC",to:"/"},"luabits.com"),i.a.createElement("div",null,"| pre-alpha")),i.a.createElement("div",{className:"flexSpacer__2L3mQ"}),!this.props.hideNav&&i.a.createElement("div",{className:"nav__1WoF7"},i.a.createElement(U.Link,{to:"/",className:"navItem__1vN62"},"Home"),i.a.createElement(U.Link,{to:"/projects",className:"navItem__1vN62"},"Your projects"),i.a.createElement(U.Link,{to:"/getting-started",className:"navItem__1vN62"},"Getting started"),i.a.createElement(U.Link,{to:"/examples",className:"navItem__1vN62"},"Examples"),i.a.createElement(U.Link,{to:"/docs",className:"navItem__1vN62"},"Docs"))))}}])&&Q(r.prototype,n),o&&Q(r,o),t}();r(559),r(561),r(563);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var X={style:{Title:"Title__1NSc_",sub:"sub__2sWY2"}};function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ee(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,te(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:F()("Title "+(this.props.sub?"sub":""),X,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},this.props.children)}}])&&$(r.prototype,n),o&&$(r,o),t}();r(565);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,ce(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement(U.Link,{to:"/project/view/"+this.props.match.params.id,className:"BackToProject__Dog72"},"< back")}}])&&ae(r.prototype,n),o&&ae(r,o),t}(),le=Object(W.k)(ue);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function me(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,de(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:"Wrapper__3zuig"},this.props.showBack&&i.a.createElement(le,null),this.props.title&&i.a.createElement(ne,null,this.props.title),this.props.children)}}])&&fe(r.prototype,n),o&&fe(r,o),t}(),he=Object(W.k)(ye),_e=(r(567),r(63)),ge=r.n(_e);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ee={style:{BigButton:"BigButton__2PUVQ",big:"big__d1t9R",inline:"inline__HkpsU",cta:"cta__3tuRe",slim:"slim__2_dYj"}};function we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oe(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oe(this,ke(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){var e=this;return this.props.loading?i.a.createElement("div",{className:F()("BigButton "+(this.props.big?"big ":"")+(this.props.slim?"slim ":"")+(this.props.inline?"inline ":""),Ee,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},i.a.createElement(ge.a,{type:"spin",color:"white",height:20,width:20})):this.props.route?i.a.createElement(U.Link,{to:this.props.route,className:F()("BigButton "+(this.props.big?"big ":"")+(this.props.slim?"slim ":"")+(this.props.cta?"cta ":"")+(this.props.inline?"inline ":""),Ee,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},this.props.children):i.a.createElement("div",{onClick:function(){e.props.onClick&&e.props.onClick()},className:F()("BigButton "+(this.props.big?"big ":"")+(this.props.slim?"slim ":"")+(this.props.cta?"cta ":"")+(this.props.inline?"inline ":""),Ee,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},this.props.children)}}])&&we(r.prototype,n),o&&we(r,o),t}();r(569);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pe(this,xe(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:"Spacer__mCvPQ"})}}])&&Me(r.prototype,n),o&&Me(r,o),t}();r(571);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Le(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Be(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement(U.Link,{to:"/project/view/"+this.props.id,className:"ProjRow__3b6C_"},this.props.name)}}])&&Ie(r.prototype,n),o&&Ie(r,o),t}();r(573);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qe={style:{FirebaseTable:"FirebaseTable__1_oTY",loading:"loading__1_UdQ",horizontal:"horizontal__2M3l_"}};function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ue(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ye=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ue(this,De(t).call(this,e))).state={pageSize:5,items:[],hasMore:!0,loading:!0},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,i.a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.fetchItems()}},{key:"fetchItems",value:function(){var e=this,t=this.props.order||null,r=this.props.where||null,n=this.props.pageSize||this.state.pageSize,o=this.props.path,a=E.firestore().collection(o).limit(n);t&&(a=a.orderBy(t[0],t[1])),r&&(a=a.where(r[0],r[1],r[2])),this.state.items.length>0&&(a=a.startAfter(this.state.items[this.state.items.length-1])),a.get().then(function(t){var r=[];t.forEach(function(e){r.push(e)}),e.setState({items:[].concat(Ve(e.state.items),r),loading:!1,hasMore:r.length==n},function(){})})}},{key:"loadMore",value:function(){var e=this;this.setState({loading:!0},function(){e.fetchItems()})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"FirebaseTable__1_oTY",style:this.props.style},this.state.items.map(function(t,r){var n=t.data();return n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Ae(e,t,r[t])})}return e}({},n,{_id:t.id}),e.props.renderItem(n)}),this.state.hasMore&&!this.state.loading&&i.a.createElement(Se,{onClick:function(){return e.loadMore()}},"Load more"),this.state.loading&&(this.props.loading?this.props.loading:i.a.createElement("div",{className:F()("loading "+(this.props.horizontal?"horizontal":""),qe,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},i.a.createElement("div",null,i.a.createElement(ge.a,{type:"spin",color:"white",height:20,width:20})))),!this.state.loading&&0==this.state.items.length&&!this.props.hideEmpty&&i.a.createElement("div",{className:"loading__1_UdQ"},"No items found."),!this.state.loading&&!this.state.hasMore&&this.props.showEnd&&this.state.items.length>0&&i.a.createElement("div",{className:"loading__1_UdQ"},"End reached."))}}])&&We(r.prototype,n),o&&We(r,o),t}(),He=(r(575),r(577),r(579),r(92)),Ge=r.n(He);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ze={style:{Example:"Example__3l9ck",code:"code__2ItEx",bigger:"bigger__1QziU",evenBigger:"evenBigger__JohNL",biggest:"biggest__12D9S",response:"response__18dSN",title:"title__3rzW_",tryLink:"tryLink__2R2K-",rest:"rest__2JehZ",noPadding:"noPadding__2QUPj"},"codemirror/lib/codemirror.css":{CodeMirror:"CodeMirror__R1C98","CodeMirror-lines":"CodeMirror-lines__18QW2","CodeMirror-scrollbar-filler":"CodeMirror-scrollbar-filler__1pIG7","CodeMirror-gutter-filler":"CodeMirror-gutter-filler__2QoMp","CodeMirror-gutters":"CodeMirror-gutters__h9viM","CodeMirror-linenumbers":"CodeMirror-linenumbers__3jzs5","CodeMirror-linenumber":"CodeMirror-linenumber__2ALOp","CodeMirror-guttermarker":"CodeMirror-guttermarker__43XqA","CodeMirror-guttermarker-subtle":"CodeMirror-guttermarker-subtle__39Fa8","CodeMirror-cursor":"CodeMirror-cursor__1Z_rB","CodeMirror-secondarycursor":"CodeMirror-secondarycursor__26bwG","cm-fat-cursor":"cm-fat-cursor__3jk_w","CodeMirror-cursors":"CodeMirror-cursors__28_iO","cm-fat-cursor-mark":"cm-fat-cursor-mark__3s0Hs",blink:"blink__BIXvc","cm-animate-fat-cursor":"cm-animate-fat-cursor__3zOkQ","CodeMirror-overwrite":"CodeMirror-overwrite__38fpn","cm-tab":"cm-tab__VKoOQ","CodeMirror-rulers":"CodeMirror-rulers__3VHJg","CodeMirror-ruler":"CodeMirror-ruler__lu-ev","cm-s-default":"cm-s-default__37s0X","cm-header":"cm-header__3DhEP","cm-quote":"cm-quote__33zkR","cm-negative":"cm-negative__3-v8s","cm-positive":"cm-positive__3bTLl","cm-strong":"cm-strong__1Jdyz","cm-em":"cm-em__1pHeK","cm-link":"cm-link__1egY_","cm-strikethrough":"cm-strikethrough__3WVSR","cm-keyword":"cm-keyword__1yyG1","cm-atom":"cm-atom__2cMxC","cm-number":"cm-number__1fzJj","cm-def":"cm-def__8HJuY","cm-variable":"cm-variable__3Wv19","cm-punctuation":"cm-punctuation__1sp23","cm-property":"cm-property__xYZDM","cm-operator":"cm-operator__1dvuH","cm-variable-2":"cm-variable-2___yEOS","cm-variable-3":"cm-variable-3__18J16","cm-type":"cm-type__LOWaG","cm-comment":"cm-comment__2bORe","cm-string":"cm-string__2o0vy","cm-string-2":"cm-string-2__3rVhQ","cm-meta":"cm-meta__1-_j_","cm-qualifier":"cm-qualifier__3JOa_","cm-builtin":"cm-builtin__1H98h","cm-bracket":"cm-bracket__13LPX","cm-tag":"cm-tag__2j2AG","cm-attribute":"cm-attribute__3y5At","cm-hr":"cm-hr__3hlh1","cm-error":"cm-error__28jdr","cm-invalidchar":"cm-invalidchar__3688A","CodeMirror-composing":"CodeMirror-composing__-GIzV","CodeMirror-matchingbracket":"CodeMirror-matchingbracket__3xa84","CodeMirror-nonmatchingbracket":"CodeMirror-nonmatchingbracket__2LQoM","CodeMirror-matchingtag":"CodeMirror-matchingtag__3lSoL","CodeMirror-activeline-background":"CodeMirror-activeline-background__2qWnV","CodeMirror-scroll":"CodeMirror-scroll__2ppvD","CodeMirror-sizer":"CodeMirror-sizer__S03E8","CodeMirror-vscrollbar":"CodeMirror-vscrollbar__3jRDd","CodeMirror-hscrollbar":"CodeMirror-hscrollbar__hfMMj","CodeMirror-gutter":"CodeMirror-gutter__17anB","CodeMirror-gutter-wrapper":"CodeMirror-gutter-wrapper__9uWnG","CodeMirror-gutter-background":"CodeMirror-gutter-background__bDpyr","CodeMirror-gutter-elt":"CodeMirror-gutter-elt__3rF1c","CodeMirror-wrap":"CodeMirror-wrap__2RIOD","CodeMirror-linebackground":"CodeMirror-linebackground__2UP5j","CodeMirror-linewidget":"CodeMirror-linewidget__3YPuz","CodeMirror-widget":"CodeMirror-widget__QEzA_","CodeMirror-rtl":"CodeMirror-rtl__1SJQ7","CodeMirror-code":"CodeMirror-code__3PFmE","CodeMirror-measure":"CodeMirror-measure__1uZ_o","CodeMirror-dragcursors":"CodeMirror-dragcursors__30LIw","CodeMirror-focused":"CodeMirror-focused__2BJlB","CodeMirror-selected":"CodeMirror-selected__2EDnA","CodeMirror-crosshair":"CodeMirror-crosshair__3jwfk","CodeMirror-line":"CodeMirror-line__1fief","cm-searching":"cm-searching__Jl4TK","cm-force-border":"cm-force-border__3q3lB","cm-tab-wrap-hack":"cm-tab-wrap-hack__1U9GA","CodeMirror-selectedtext":"CodeMirror-selectedtext__2ICWz"},"../LuaBox/theme.less":{"cm-s-oceanic-next":"cm-s-oceanic-next__32Ryr",CodeMirror:"CodeMirror__3Qnji","CodeMirror-selected":"CodeMirror-selected__hmgmn","CodeMirror-line":"CodeMirror-line__aGz_T","CodeMirror-gutters":"CodeMirror-gutters__3-UAE","CodeMirror-guttermarker":"CodeMirror-guttermarker__18uiP","CodeMirror-guttermarker-subtle":"CodeMirror-guttermarker-subtle__IAdc4","CodeMirror-linenumber":"CodeMirror-linenumber__WnO3Q","CodeMirror-cursor":"CodeMirror-cursor__1qXp3","cm-comment":"cm-comment__3P1RL","cm-atom":"cm-atom__3KXpO","cm-number":"cm-number__1nneV","cm-property":"cm-property__RdTxU","cm-attribute":"cm-attribute__JLme9","cm-keyword":"cm-keyword__32eGV","cm-builtin":"cm-builtin__2sG0U","cm-string":"cm-string__y2crO","cm-variable":"cm-variable__2nc7S","cm-variable-2":"cm-variable-2__3mSKz","cm-variable-3":"cm-variable-3__1vFFs","cm-def":"cm-def__1OrXV","cm-bracket":"cm-bracket__2hwvB","cm-tag":"cm-tag__3L0Or","cm-header":"cm-header__4JNz2","cm-link":"cm-link__2JBaS","cm-error":"cm-error__3HUgC","CodeMirror-activeline-background":"CodeMirror-activeline-background__3vlHf","CodeMirror-matchingbracket":"CodeMirror-matchingbracket__2lz3A"}};function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $e(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r(185);var rt,nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$e(this,et(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:F()("Example "+(this.props.noPadding?"noPadding":""),Ze,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},this.props.name&&i.a.createElement("div",{className:"title__3rzW_"},this.props.name),i.a.createElement("div",{className:"rest__2JehZ"},i.a.createElement("div",null,this.props.text),i.a.createElement(Ge.a,{options:{mode:"lua",theme:"oceanic-next",lineNumbers:!0,readOnly:!0},value:this.props.code,onChange:function(e){},className:F()("code "+(this.props.extraClass?this.props.extraClass:""),Ze,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})}),i.a.createElement("br",null),"Response:",i.a.createElement("div",{className:"response__18dSN"},this.props.json?JSON.stringify(this.props.response,null,4):this.props.response),this.props.link&&i.a.createElement("a",{className:"tryLink__2R2K-",rel:"nofollow",href:this.props.link,target:"_blank"},"Try it")))}}])&&Xe(r.prototype,n),o&&Xe(r,o),t}();function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function it(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ut=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),it(this,ct(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement(he,null,i.a.createElement("div",{style:(e={textAlign:"center",padding:12,paddingTop:8,paddingBottom:8,color:"red",height:"auto",fontSize:16,fontWeight:"bold",background:"#690000"},t="color",r="white",t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e)},"This is a pre-alpha development version. APIs can change without notice, and your data may not persist beyond alpha."),i.a.createElement("div",{className:"big__3vPIM"},"Lua cloud functions and storage in 3 clicks",i.a.createElement("br",null),i.a.createElement("div",null,"Build a back end for your codepen, your school project, your mobile app, or your IOT device.")),i.a.createElement(Se,{big:!0,route:"/getting-started"},"Click here to get started"),i.a.createElement("div",{style:{height:24}}),i.a.createElement("div",{style:{textAlign:"center",fontSize:16,fontWeight:"bold"}},"...or check out these examples:"),i.a.createElement("div",{style:{height:24}}),i.a.createElement(nt,{noPadding:!0,name:"Hello Cloud!",code:'res.ok({dateString = os.date("today is %A, in %B")})',response:{status:"ok",data:{dateString:"today is Monday, in March"}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=json-example"}),i.a.createElement(nt,{extraClass:"bigger",noPadding:!0,name:"Buckets!",text:"Store objects using the latest in bucket-based nosql document storage.\n\n",code:"todo = req.query.todo -- get URL query parameter\n\nif todo then\n  -- add to previously created bucket 'todos'\n  -- no callback supplied means a standard json response will be generated.\n  db.create('todos', {todo = todo, completed = false})\nelse\n  res.error({message = 'No todo supplied.'})\nend",response:{status:"ok",data:{item:{completed:!1,id:"pE12Id3gktT93AqLrTiC",time:"2019-03-19T17:05:08.805Z",todo:"Shopping"}}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=add-to-bucket&todo=Shopping"}),i.a.createElement(nt,{extraClass:"bigger",name:"Getting an item from a bucket",noPadding:!0,text:"In this example, we are retrieving an item previously added to our bucket.\n\n",code:"todoId = req.query.todoId\n\nif todoId then\n  -- If you don't supply a callback, a standard response is generated\n  db.get('todos',todoId)\nelse\n  res.error({message = 'No todoId given'})\nend",response:{status:"ok",data:{item:{completed:!1,id:"pE12Id3gktT93AqLrTiC",time:"2019-03-19T17:05:08.805Z",todo:"Shopping"}}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=get-from-bucket&todoId=pE12Id3gktT93AqLrTiC"}),i.a.createElement(Se,{route:"/examples"},"View more examples"),i.a.createElement("div",{style:{height:12}}),i.a.createElement(Se,{route:"/getting-started"},"Getting started"));var e,t,r}}])&&at(r.prototype,n),o&&at(r,o),t}())||rt;r(581),r(583);function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ft(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bt,yt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ft(this,mt(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,i.a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"outer__366aZ"},i.a.createElement("div",{className:"label__3nXF4"},this.props.label),i.a.createElement("input",{ref:function(t){e.ref=t},placeholder:this.props.placeholder,readOnly:this.props.readOnly,className:"BigInput__19t8h",value:this.props.value,onKeyPress:function(t){"Enter"===t.key&&e.props.onEnterKey()},onChange:function(t){e.props.onChange(t.target.value)}}))}}])&&pt(r.prototype,n),o&&pt(r,o),t}();function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gt(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(bt=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=gt(this,vt(t).call(this,e))).state={name:""},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,i.a.Component),r=t,(n=[{key:"create",value:function(){var e=this;""!=this.state.name.trim()&&this.setState({status:"loading"},function(){var t;(t={name:e.state.name},k(t)).then(function(t){"ok"===t.data.status?e.props.history.push("/project/view/"+t.data.newProject):e.setState({status:"error"})})})}},{key:"render",value:function(){var e=this;return i.a.createElement(he,{title:"Create new project"},i.a.createElement(yt,{placeholder:"project-name",value:this.state.name,onEnterKey:function(){e.create()},onChange:function(t){e.setState({name:N(t)})}}),i.a.createElement(Ne,null),i.a.createElement(Se,{loading:"loading"==this.state.status,onClick:function(){e.create()}},"Next"),"error"==this.state.status&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ne,null),i.a.createElement("div",null,"Error creating bucket. Name already taken?")))}}])&&_t(r.prototype,n),o&&_t(r,o),t}())||bt;var Ot=Object(W.k)(wt);r(585),r(587);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){St(e,t,r[t])})}return e}function St(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mt(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tt=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Mt(this,Pt(t).call(this,e))).state={item:null,loading:!0},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(t,i.a.Component),r=t,(n=[{key:"getOnce",value:function(){var e=this,t=this.props.path;E.firestore().doc(t).get().then(function(t){e.setState({loading:!1,item:jt({},t.data(),{_id:t.id})},function(){})})}},{key:"sub",value:function(){var e=this,t=this.props.path;this.unsub=E.firestore().doc(t).onSnapshot(function(t){e.setState({loading:!1,item:jt({},t.data(),{_id:t.id})},function(){})})}},{key:"componentDidMount",value:function(){this.props.realtime?this.sub():this.getOnce()}},{key:"componentWillUnmount",value:function(){this.unsub&&this.unsub()}},{key:"render",value:function(){return this.state.loading?this.props.loading||i.a.createElement("div",null,"Loading!!"):this.props.children(this.state.item)}}])&&Ct(r.prototype,n),o&&Ct(r,o),t}();r(589);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function It(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),It(this,Lt(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement(U.Link,{to:"/project/view/"+this.props.project+"/bucket/"+this.props.children,className:"Bucket__19sjf"},this.props.children)}}])&&Rt(r.prototype,n),o&&Rt(r,o),t}();r(591);function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qt(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qt(this,At(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement(U.Link,{to:"/project/view/"+this.props.project+"/editFunction/"+this.props.name,className:"FuncRow__3U47z"},this.props.name)}}])&&Jt(r.prototype,n),o&&Jt(r,o),t}();r(593);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gt,Kt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qt(this,Yt(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:"Loading__B8Eit"},i.a.createElement(ge.a,{type:"spin",color:"white",height:20,width:20}))}}])&&Dt(r.prototype,n),o&&Dt(r,o),t}();r(595);function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $t(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rr,nr=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(Gt=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=$t(this,er(t).call(this,e))).state={status:"start"},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,i.a.Component),r=t,(n=[{key:"signInWithGoogle",value:function(){var e=this,t=new v.a.auth.GoogleAuthProvider;this.setState({status:"loading"},function(){E.auth().currentUser.linkWithPopup(t).then(function(t){t.credential.accessToken,t.user;console.log(t),e.setState({status:"done"})}).catch(function(t){console.error(t.code),"auth/credential-already-in-use"==t.code?e.setState({status:"already"}):e.setState({status:"error"});t.code,t.message,t.email,t.credential})})}},{key:"logout",value:function(){this.props.userUnsubscribe(function(){E.auth().signOut()})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"LinkAccountArea__ErDXK"},"already"!=this.state.status?i.a.createElement(i.a.Fragment,null,("start"==this.state.status||"loading"==this.state.status)&&i.a.createElement("div",{className:"accWarn__1cUt7"},"You are currently using an anonymous account. To ensure you keep access to your functions and data, consider linking your account to google."),i.a.createElement(Se,{loading:"loading"==this.state.status,onClick:function(){e.signInWithGoogle()}},"start"==this.state.status&&"Link with google","error"==this.state.status&&"Something went wrong.","done"==this.state.status&&"Account linked to google")):i.a.createElement("div",{className:"alreadyLinked__1jD7v",onClick:function(){e.logout()}},"Account already in use. Click here to log out, then log back in with the right account."))}}])&&Xt(r.prototype,n),o&&Xt(r,o),t}())||Gt;function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ir(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cr(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lr=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(rr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cr(this,sr(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){var e=this.props.match.params.id,t="users/"+x()+"/projects/"+e;return i.a.createElement(Tt,{key:e,path:t,loading:i.a.createElement(Kt,null)},function(r){return i.a.createElement(he,{title:"Project: "+r.name},!R()&&i.a.createElement(nr,null),i.a.createElement("div",{style:{height:8}}),i.a.createElement(ne,{sub:!0},"Buckets:"),i.a.createElement("div",{style:{height:8}}),r.buckets&&r.buckets.map(function(t){return i.a.createElement(Ft,{project:e,key:t},t)}),i.a.createElement(Se,{route:"/project/view/"+e+"/createBucket"},"+ Add a bucket"),i.a.createElement(Ne,null),i.a.createElement(ne,{sub:!0},"Functions:"),i.a.createElement("div",{style:{height:8}}),i.a.createElement(Ye,{hideEmpty:!0,pageSize:10,path:t+"/functions",renderItem:function(e){return i.a.createElement(Wt,ar({},e,{key:e.name}))}}),i.a.createElement(Se,{route:"/project/view/"+e+"/createFunction"},"+ Add a function"))})}}])&&ir(r.prototype,n),o&&ir(r,o),t}())||rr;var pr,fr=Object(W.k)(lr);r(597);function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function br(e,t){return!t||"object"!==mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _r=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(pr=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=br(this,yr(t).call(this,e))).state={name:"",status:"start"},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hr(e,t)}(t,i.a.Component),r=t,(n=[{key:"create",value:function(){var e=this;if(""!=this.state.name.trim()){var t=this.props.match.params.id;this.setState({status:"loading"},function(){var r;(r={pid:t,name:e.state.name},j(r)).then(function(r){if("ok"!==r.data.status)return console.log("Stuff went wrong."),void e.setState({status:"error"});e.props.history.push("/project/view/"+t)})})}}},{key:"render",value:function(){var e=this;return i.a.createElement(he,{title:"Create a bucket",showBack:!0},i.a.createElement(yt,{placeholder:"bucket-name",value:this.state.name,onEnterKey:function(){e.create()},onChange:function(t){e.setState({name:N(t)})}}),i.a.createElement(Ne,null),i.a.createElement(Se,{loading:"loading"==this.state.status,onClick:function(){e.create()}},"Next"),"error"==this.state.status&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ne,null),i.a.createElement("div",null,"Error creating bucket. Name already taken?")))}}])&&dr(r.prototype,n),o&&dr(r,o),t}())||pr;var gr=Object(W.k)(_r);r(599),r(601);function vr(e){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Er={"codemirror/lib/codemirror.css":{CodeMirror:"CodeMirror__R1C98","CodeMirror-lines":"CodeMirror-lines__18QW2","CodeMirror-scrollbar-filler":"CodeMirror-scrollbar-filler__1pIG7","CodeMirror-gutter-filler":"CodeMirror-gutter-filler__2QoMp","CodeMirror-gutters":"CodeMirror-gutters__h9viM","CodeMirror-linenumbers":"CodeMirror-linenumbers__3jzs5","CodeMirror-linenumber":"CodeMirror-linenumber__2ALOp","CodeMirror-guttermarker":"CodeMirror-guttermarker__43XqA","CodeMirror-guttermarker-subtle":"CodeMirror-guttermarker-subtle__39Fa8","CodeMirror-cursor":"CodeMirror-cursor__1Z_rB","CodeMirror-secondarycursor":"CodeMirror-secondarycursor__26bwG","cm-fat-cursor":"cm-fat-cursor__3jk_w","CodeMirror-cursors":"CodeMirror-cursors__28_iO","cm-fat-cursor-mark":"cm-fat-cursor-mark__3s0Hs",blink:"blink__BIXvc","cm-animate-fat-cursor":"cm-animate-fat-cursor__3zOkQ","CodeMirror-overwrite":"CodeMirror-overwrite__38fpn","cm-tab":"cm-tab__VKoOQ","CodeMirror-rulers":"CodeMirror-rulers__3VHJg","CodeMirror-ruler":"CodeMirror-ruler__lu-ev","cm-s-default":"cm-s-default__37s0X","cm-header":"cm-header__3DhEP","cm-quote":"cm-quote__33zkR","cm-negative":"cm-negative__3-v8s","cm-positive":"cm-positive__3bTLl","cm-strong":"cm-strong__1Jdyz","cm-em":"cm-em__1pHeK","cm-link":"cm-link__1egY_","cm-strikethrough":"cm-strikethrough__3WVSR","cm-keyword":"cm-keyword__1yyG1","cm-atom":"cm-atom__2cMxC","cm-number":"cm-number__1fzJj","cm-def":"cm-def__8HJuY","cm-variable":"cm-variable__3Wv19","cm-punctuation":"cm-punctuation__1sp23","cm-property":"cm-property__xYZDM","cm-operator":"cm-operator__1dvuH","cm-variable-2":"cm-variable-2___yEOS","cm-variable-3":"cm-variable-3__18J16","cm-type":"cm-type__LOWaG","cm-comment":"cm-comment__2bORe","cm-string":"cm-string__2o0vy","cm-string-2":"cm-string-2__3rVhQ","cm-meta":"cm-meta__1-_j_","cm-qualifier":"cm-qualifier__3JOa_","cm-builtin":"cm-builtin__1H98h","cm-bracket":"cm-bracket__13LPX","cm-tag":"cm-tag__2j2AG","cm-attribute":"cm-attribute__3y5At","cm-hr":"cm-hr__3hlh1","cm-error":"cm-error__28jdr","cm-invalidchar":"cm-invalidchar__3688A","CodeMirror-composing":"CodeMirror-composing__-GIzV","CodeMirror-matchingbracket":"CodeMirror-matchingbracket__3xa84","CodeMirror-nonmatchingbracket":"CodeMirror-nonmatchingbracket__2LQoM","CodeMirror-matchingtag":"CodeMirror-matchingtag__3lSoL","CodeMirror-activeline-background":"CodeMirror-activeline-background__2qWnV","CodeMirror-scroll":"CodeMirror-scroll__2ppvD","CodeMirror-sizer":"CodeMirror-sizer__S03E8","CodeMirror-vscrollbar":"CodeMirror-vscrollbar__3jRDd","CodeMirror-hscrollbar":"CodeMirror-hscrollbar__hfMMj","CodeMirror-gutter":"CodeMirror-gutter__17anB","CodeMirror-gutter-wrapper":"CodeMirror-gutter-wrapper__9uWnG","CodeMirror-gutter-background":"CodeMirror-gutter-background__bDpyr","CodeMirror-gutter-elt":"CodeMirror-gutter-elt__3rF1c","CodeMirror-wrap":"CodeMirror-wrap__2RIOD","CodeMirror-linebackground":"CodeMirror-linebackground__2UP5j","CodeMirror-linewidget":"CodeMirror-linewidget__3YPuz","CodeMirror-widget":"CodeMirror-widget__QEzA_","CodeMirror-rtl":"CodeMirror-rtl__1SJQ7","CodeMirror-code":"CodeMirror-code__3PFmE","CodeMirror-measure":"CodeMirror-measure__1uZ_o","CodeMirror-dragcursors":"CodeMirror-dragcursors__30LIw","CodeMirror-focused":"CodeMirror-focused__2BJlB","CodeMirror-selected":"CodeMirror-selected__2EDnA","CodeMirror-crosshair":"CodeMirror-crosshair__3jwfk","CodeMirror-line":"CodeMirror-line__1fief","cm-searching":"cm-searching__Jl4TK","cm-force-border":"cm-force-border__3q3lB","cm-tab-wrap-hack":"cm-tab-wrap-hack__1U9GA","CodeMirror-selectedtext":"CodeMirror-selectedtext__2ICWz"},"./theme.less":{"cm-s-oceanic-next":"cm-s-oceanic-next__32Ryr",CodeMirror:"CodeMirror__3Qnji","CodeMirror-selected":"CodeMirror-selected__hmgmn","CodeMirror-line":"CodeMirror-line__aGz_T","CodeMirror-gutters":"CodeMirror-gutters__3-UAE","CodeMirror-guttermarker":"CodeMirror-guttermarker__18uiP","CodeMirror-guttermarker-subtle":"CodeMirror-guttermarker-subtle__IAdc4","CodeMirror-linenumber":"CodeMirror-linenumber__WnO3Q","CodeMirror-cursor":"CodeMirror-cursor__1qXp3","cm-comment":"cm-comment__3P1RL","cm-atom":"cm-atom__3KXpO","cm-number":"cm-number__1nneV","cm-property":"cm-property__RdTxU","cm-attribute":"cm-attribute__JLme9","cm-keyword":"cm-keyword__32eGV","cm-builtin":"cm-builtin__2sG0U","cm-string":"cm-string__y2crO","cm-variable":"cm-variable__2nc7S","cm-variable-2":"cm-variable-2__3mSKz","cm-variable-3":"cm-variable-3__1vFFs","cm-def":"cm-def__1OrXV","cm-bracket":"cm-bracket__2hwvB","cm-tag":"cm-tag__3L0Or","cm-header":"cm-header__4JNz2","cm-link":"cm-link__2JBaS","cm-error":"cm-error__3HUgC","CodeMirror-activeline-background":"CodeMirror-activeline-background__3vlHf","CodeMirror-matchingbracket":"CodeMirror-matchingbracket__2lz3A"},"./LuaBox.less":{LuaBox:"LuaBox__lgLAs"}};function wr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Or(e,t){return!t||"object"!==vr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r(185);var Sr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Or(this,kr(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ge.a,{options:{readOnly:this.props.readOnly,mode:"lua",theme:"oceanic-next",lineNumbers:!0},value:this.props.value,onChange:function(t){console.log("change"),e.props.onChange(t)},className:F()("LuaBox",Er,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})}))}}])&&wr(r.prototype,n),o&&wr(r,o),t}();r(603);function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Mr={style:{Docs:"Docs__3bFQ-",section:"section__1tyBK",sub:"sub__d0bb9",big:"big__2v8dR",row:"row__1Mxue",indent:"indent__bWkpC",contents:"contents__1KNm3"}};function Pr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xr(e,t){return!t||"object"!==Cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tr(e){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rr,Ir=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xr(this,Tr(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:"Docs__3bFQ-"},i.a.createElement("div",{className:"contents__1KNm3"},i.a.createElement("a",{href:"#req",className:"big__2v8dR sub__d0bb9"},"req"),i.a.createElement("a",{href:"#req-query",className:""},"req.query"),i.a.createElement("a",{href:"#req-json",className:""},"req.json"),i.a.createElement("a",{href:"#db",className:"big__2v8dR sub__d0bb9"},"db"),i.a.createElement("a",{href:"#db-create",className:""},"db.create( )"),i.a.createElement("a",{href:"#db-update",className:""},"db.update( )"),i.a.createElement("a",{href:"#db-get",className:""},"db.get( )"),i.a.createElement("a",{href:"#db-list",className:""},"db.list( )"),i.a.createElement("a",{href:"#res",className:"big__2v8dR sub__d0bb9"},"res"),i.a.createElement("a",{href:"#res-send",className:""},"res.send( )"),i.a.createElement("a",{href:"#res-json",className:""},"res.json( )"),i.a.createElement("a",{href:"#res-ok",className:""},"res.ok( )"),i.a.createElement("a",{href:"#res-error",className:""},"res.error( )"),i.a.createElement("a",{href:"#res-redirect",className:""},"res.redirect( )"),i.a.createElement("a",{href:"#utils",className:"big__2v8dR sub__d0bb9"},"utils"),i.a.createElement("a",{href:"#utils-log",className:""},"utils.log( )")),i.a.createElement("div",{style:{height:24}}),i.a.createElement(ne,null,"Global variables"),i.a.createElement("div",{className:"section__1tyBK"},i.a.createElement("a",{name:"req"}),i.a.createElement("div",{className:"sub__d0bb9 big__2v8dR"},"req"),i.a.createElement("div",{className:"row__1Mxue"},"Contains information related to the incoming HTTPS request."),i.a.createElement("a",{name:"req-query"}),i.a.createElement("div",{className:"sub__d0bb9"},"req.query"),i.a.createElement("div",{className:"row__1Mxue"},"The req.query variable contains an object of the URL parameters. The names 'uid', 'pid' and 'func' are reserved, you can add as many others as you like."),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{extraClass:"bigger",name:"Example",noPadding:!0,code:"number = req.query.number -- &number=...\n\nif number then\n  res.ok({result = number*2})\nelse\n  -- no number supplied\n  res.error({message = 'No number supplied'})\nend",response:{status:"ok",data:{result:24}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=get-url-params&number=99"}))),i.a.createElement("div",{className:"section__1tyBK"},i.a.createElement("a",{name:"req-json"}),i.a.createElement("div",{className:"sub__d0bb9"},"req.json"),i.a.createElement("div",{className:"row__1Mxue"},"The req.json variable holds an object of the JSON values posted to your function."),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{name:"Example",noPadding:!0,code:"res.ok({postedJson = req.json})  -- req.json holds the json object posted to the function",response:{status:"ok",data:{postedJson:{key:"value",key2:42}}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=posted-json-example"}))),i.a.createElement(ne,null,"Functions"),i.a.createElement("div",{className:"section__1tyBK"},i.a.createElement("a",{name:"db"}),i.a.createElement("div",{className:"sub__d0bb9 big__2v8dR"},"db"),i.a.createElement("a",{name:"db-create"}),i.a.createElement("div",{className:"sub__d0bb9"},"db.create( )"),i.a.createElement("div",{className:"row__1Mxue"},"db.create( bucket, data, callback( newItem )? )",i.a.createElement("br",null),i.a.createElement("br",null),"Create a new entry in the database. Make sure you have created the bucket in your Project settings first.",i.a.createElement("br",null),"If no callback is supplied, a standard response is generated."),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{extraClass:"bigger",noPadding:!0,name:"Example without callback",code:"todo = req.query.todo\n\nif todo then\n  -- add to previously created bucket 'todos'\n  -- no callback supplied means a standard json response will be generated.\n  db.create('todos', {todo = todo, completed = false})\nelse\n  res.error({message = 'No todo supplied.'})\nend",response:{status:"ok",data:{item:{todo:"Shopping",completed:!1,id:"pE12Id3gktT93AqLrTiC",time:"2019-03-19T17:05:08.805Z"}}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=add-to-bucket&todo=Shopping"})),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{extraClass:"evenBigger",noPadding:!0,name:"Example with callback",code:"todo = req.query.todo\n\nif todo then\n  db.create('todos', {todo = todo, completed = false},\n  \tfunction (newItem)\n      res.json({newItemId = newItem.id})\n    end\n  )\nelse\n  res.error({message = 'No todo supplied.'})\nend",response:{newItemId:"Q9019kHxmSxf8NIphsAx"},json:!0,link:"https://luabits.com/run?uid=g7cJlONn6DfNcM6yXwPKpc1C5ul2&pid=tes&func=examplewith&todo=Shopping"})),i.a.createElement("a",{name:"db-update"}),i.a.createElement("div",{className:"sub__d0bb9"},"db.update( )"),i.a.createElement("div",{className:"row__1Mxue"},"db.update( bucket, itemId, newData, callback( success_bool )? )",i.a.createElement("br",null),i.a.createElement("br",null),"Update an entry in a bucket."),i.a.createElement("br",null),i.a.createElement("a",{name:"db-get"}),i.a.createElement("div",{className:"sub__d0bb9"},"db.get( )"),i.a.createElement("div",{className:"row__1Mxue"},"db.get( bucket, itemId, callback( object|false )? )",i.a.createElement("br",null),i.a.createElement("br",null),"Fetch a single item from a bucket."),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{noPadding:!0,extraClass:"bigger",name:"Example without callback",code:"todoId = req.query.todoId\n\nif todoId then\n  db.get('todos',todoId)\nelse\n  res.error({message = 'No todoId given'})\nend",response:{status:"ok",data:{item:{completed:!1,time:"2019-03-19T17:05:08.805Z",todo:"Shopping",id:"pE12Id3gktT93AqLrTiC"}}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=get-from-bucket&todoId=pE12Id3gktT93AqLrTiC"})),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{name:"Example with callback",noPadding:!0,extraClass:"biggest",code:"todoId = req.query.todoId\n\nif todoId then\n  db.get('todos',todoId,\n  function (item)\n  \tif (item) then\n    \tres.json({item = item})\n    else\n        res.error('Item not found')\n    end\n  end\n  )\nelse\n  res.error({message = 'No todoId given'})\nend",response:{item:{time:"2019-03-19T17:05:08.805Z",todo:"Shopping",id:"pE12Id3gktT93AqLrTiC",completed:!1}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=get-with-callback&todoId=pE12Id3gktT93AqLrTiC"})),i.a.createElement("a",{name:"db-list"}),i.a.createElement("div",{className:"sub__d0bb9"},"db.list( )"),i.a.createElement("div",{className:"row__1Mxue"},"db.list( bucket, options?, callback( response | false )? )",i.a.createElement("br",null),i.a.createElement("br",null),"Get a page of entries from a bucket.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("b",null,"options:"),i.a.createElement("div",{className:F()("indent",Mr,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},i.a.createElement("b",null,"options.pageSize")," (int between 1 and 25, default: 10)",i.a.createElement("br",null),i.a.createElement("b",null,"options.pageToken")," (string, previously received from the back end. Used for pagination)"),i.a.createElement("br",null),i.a.createElement("b",null,"Note:")," You can only supply one of the two following options `order` or `where`. Not both. This would require indexing, which is currently not available.",i.a.createElement("br",null),"If you use `where`, the ordering is still deterministic, but follows no particular pattern. Pagination using pageTokens still works as expected.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("div",{className:"indent__bWkpC"},i.a.createElement("b",null,"options.where")," [ field, operator, needle ]",i.a.createElement("br",null),"Example:",i.a.createElement("br",null),"where = ",'{"completed","==", true}',i.a.createElement("br",null),"Operator can be either: <, <=, ==, >, >=, or array_contains.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("b",null,"options.order")," [ field, direction ]",i.a.createElement("br",null),"Example: ",i.a.createElement("br",null),"order = ",'{"time","desc"}',i.a.createElement("br",null)),i.a.createElement("br",null),i.a.createElement("b",null,"response:"),i.a.createElement("div",{className:F()("indent",Mr,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},i.a.createElement("b",null,"response.items")," array of items. ",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("b",null,"response.pageToken?")," string. ",i.a.createElement("br",null),"If there are more results beyond the current page, a pageToken will be returned. This pageToken can be passed to the db.list function, to receive the next page. Make sure the `where` / `order` clauses are the same for each subsequent page.")),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{name:"Example with callback",noPadding:!0,extraClass:"bigger",code:"-- get the 10 newest entries in the bucket.\ndb.list('todos',{pageSize = 10},\n\tfunction (response)\n    \titems = response.items -- array of items\n    \tpageToken = response.pageToken -- only set if there is more data to fetch.\n    \tres.json({items = items, pageToken = pageToken})\n    end\n)",response:{items:[{completed:!1,time:"2019-03-19T19:51:43.438Z",todo:"Shopping",id:"qwqQrhZqyJJtqacuojVv"},{time:"2019-03-19T19:48:19.359Z",todo:"test",id:"Q9019kHxmSxf8NIphsAx",completed:!1},"...",{time:"2019-03-19T19:45:31.005Z",todo:"test",id:"bVcrsbB0MUX4OGLmveiB",completed:!1}],pageToken:"bVcrsbB0MUX4OGLmveiB"},json:!0,link:""}),i.a.createElement(nt,{noPadding:!0,name:"Pagination",code:"db.list('todos',{pageSize=2}) -- default sort is 'newest first'.",text:"Getting page 1. Take note of the pageToken.\n\n",response:{status:"ok",data:{pageToken:"o2IrRQO48JfUeHO5AudW",items:[{id:"TywaXltcmsxqwToj962d",completed:!1,time:"2019-03-19T17:58:54.809Z",todo:"Shopping"},{completed:!1,time:"2019-03-19T17:29:41.604Z",todo:"Shopping",id:"o2IrRQO48JfUeHO5AudW"}]}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=list-example"}),i.a.createElement(nt,{noPadding:!0,name:"Getting the next page.",text:"Using the pageToken we received in the previous example, we can fetch the next page.\n\n",code:"db.list('todos',{pageSize=2, pageToken='o2IrRQO48JfUeHO5AudW'})",response:{status:"ok",data:{pageToken:"VlqBjKNGZV14oQxjfkXz",items:[{time:"2019-03-19T17:26:28.294Z",todo:"Shopping",id:"fHAuDyyRsyLMokuJ64Qc",completed:!1},{completed:!1,time:"2019-03-19T17:14:04.961Z",todo:"Shopping",id:"VlqBjKNGZV14oQxjfkXz"}]}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=next-page-example"}))),i.a.createElement("br",null),i.a.createElement("div",{className:"section__1tyBK"},i.a.createElement("a",{name:"res"}),i.a.createElement("div",{className:"sub__d0bb9 big__2v8dR"},"res"),i.a.createElement("a",{name:"res-send"}),i.a.createElement("div",{className:"sub__d0bb9"},"res.send( )"),i.a.createElement("div",{className:"row__1Mxue"},"res.send( string )",i.a.createElement("br",null),i.a.createElement("br",null),"Send a positive HTTPS response containing the supplied string."),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{name:"Example",noPadding:!0,code:"res.send('Hello World')",response:"Hello World",json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=simple-send"})),i.a.createElement("a",{name:"res-json"}),i.a.createElement("div",{className:"sub__d0bb9"},"res.json( )"),i.a.createElement("div",{className:"row__1Mxue"},"res.json( data )",i.a.createElement("br",null),i.a.createElement("br",null),"Send a HTTP response with a JSON payload"),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{name:"Example",noPadding:!0,code:"res.json({test = 'passed'})",response:{test:"passed"},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=simple-json"})),i.a.createElement("a",{name:"res-ok"}),i.a.createElement("div",{className:"sub__d0bb9"},"res.ok( )"),i.a.createElement("div",{className:"row__1Mxue"},"res.ok( data )",i.a.createElement("br",null),i.a.createElement("br",null),"Send an standarized JSON response via HTTPS"),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{name:"Example",noPadding:!0,code:"res.ok({password = 'swordfish'})",response:{status:"ok",data:{password:"swordfish"}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=simple-ok"})),i.a.createElement("a",{name:"res-error"}),i.a.createElement("div",{className:"sub__d0bb9"},"res.error( )"),i.a.createElement("div",{className:"row__1Mxue"},"res.error( data )",i.a.createElement("br",null),i.a.createElement("br",null),"Send an standarized error JSON response via HTTPS"),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{name:"Example",noPadding:!0,code:"res.error({errorMessage = 'Stuff went real bad, real quick!'})",response:{status:"error",data:{errorMessage:"Stuff went real bad, real quick!"}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=simple-error"})),i.a.createElement("a",{name:"res-redirect"}),i.a.createElement("div",{className:"sub__d0bb9"},"res.redirect( )"),i.a.createElement("div",{className:"row__1Mxue"},"res.redirect( string:URL )",i.a.createElement("br",null),i.a.createElement("br",null),"Redirect the caller to a http(s) address.")),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{name:"Example",noPadding:!0,code:"res.redirect('https://google.com')",json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=simple-redirect"})),i.a.createElement("div",{className:"section__1tyBK"},i.a.createElement("a",{name:"utils"}),i.a.createElement("div",{className:"sub__d0bb9 big__2v8dR"},"utils"),i.a.createElement("a",{name:"utils-log"}),i.a.createElement("div",{className:"sub__d0bb9"},"utils.log( )"),i.a.createElement("div",{className:"row__1Mxue"},"utils.log( string:logEntry, callback( success_bool ) )",i.a.createElement("br",null),i.a.createElement("br",null),"Log an entry to the functions log. A timestamp is automatically added.",i.a.createElement("br",null),"You can find each function's log right under the editor.",i.a.createElement("br",null)),this.props.showExamples&&i.a.createElement("div",{className:"row__1Mxue"},i.a.createElement(nt,{name:"Example",noPadding:!0,extraClass:"bigger",code:"utils.log('my log entry',\n    function ()\n        res.send('Logged')\n    end\n)",response:"Logged"}))))}}])&&Pr(r.prototype,n),o&&Pr(r,o),t}();function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fr(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qr=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(Rr=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Fr(this,zr(t).call(this,e))).state={code:'res.ok("Hello luabits!")',name:"",status:"start"},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(t,i.a.Component),r=t,(n=[{key:"updateCode",value:function(e){this.setState({code:e},function(){})}},{key:"send",value:function(){var e=this;if(""!=this.state.name.trim()){var t=this.props.match.params.id,r={sourceName:"@lua/9ed776b0-48fc-11e9-b866-d5df7d24f98e.lua",lineDefined:0,lastLineDefined:0,upvalueCount:0,paramCount:0,is_vararg:2,maxStackSize:2,instructions:[5,0,0,0,6,0,0,257,1,1,2,0,28,0,2,1,30,0,1,0],constants:["res","ok","Hello luabits!"],functions:[],linePositions:[2,2,2,2,2],locals:[],upvalues:[],sourcePath:"lua/9ed776b0-48fc-11e9-b866-d5df7d24f98e.lua"};this.setState({status:"loading"},function(){var n;(n={pid:t,name:e.state.name,source:e.state.code,byteCode:r},S(n)).then(function(r){r.data.newFunction?e.props.history.push("/project/view/"+t+"/editFunction/"+r.data.newFunction):e.setState({status:"error"})}).catch(function(t){e.setState({status:"error"})})})}}},{key:"render",value:function(){var e=this;return i.a.createElement(he,{title:"Create a function",showBack:!0},i.a.createElement(yt,{placeholder:"function-name",value:this.state.name,onEnterKey:function(){e.send()},onChange:function(t){e.setState({name:N(t)})}}),i.a.createElement(Ne,null),i.a.createElement(Se,{loading:"loading"==this.state.status,onClick:function(){e.send()}},"Continue"),"error"==this.state.status&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ne,null),i.a.createElement("div",null,"Error creating function. Name already taken?")))}}])&&Br(r.prototype,n),o&&Br(r,o),t}())||Rr;var Ar=Object(W.k)(qr),Vr=(r(605),r(227)),Wr=(r(607),r(609),r(228));function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qr(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qr(this,Yr(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:"LogEntry__3LsjL"},i.a.createElement("div",{className:"time__YE5eY"},Object(Wr.format)(this.props.time.toDate(),"YYYY/MM/DD HH:mm:ss")),i.a.createElement("div",{className:"text__LlNk_"},this.props.message))}}])&&Dr(r.prototype,n),o&&Dr(r,o),t}();function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(){return(Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $r(e,t){return!t||"object"!==Kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rn=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=$r(this,en(t).call(this,e))).state={open:!1,refreshKey:1},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){var e=this,t="users/"+this.props.uid+"/projects/"+this.props.pid+"/functions/"+this.props.fid+"/logs";return i.a.createElement("div",{className:"LogViewer__35Akg"},this.state.open?i.a.createElement(Se,{onClick:function(){e.setState({refreshKey:e.state.refreshKey+1})}},"Refresh"):i.a.createElement(i.a.Fragment,null,i.a.createElement(Se,{onClick:function(){e.setState({open:!0})}},"View logs")),this.state.open&&i.a.createElement(Ye,{key:this.state.refreshKey,showEnd:!0,path:t,pageSize:7,order:["time","desc"],renderItem:function(e){return i.a.createElement(Gr,Zr({},e,{key:e._id}))}}))}}])&&Xr(r.prototype,n),o&&Xr(r,o),t}();r(611);function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function an(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var un,ln=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=an(this,cn(t).call(this,e))).state={extraUrl:"",extraJson:"",response:void 0,status:"start"},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(t,i.a.Component),r=t,(n=[{key:"validateAndFormatJson",value:function(){var e;try{e=JSON.parse(this.state.extraJson),this.setState({extraJson:JSON.stringify(e,null,4)})}catch(e){console.log("That aint json.")}}},{key:"sendRequest",value:function(){var e=this,t="https://luabits.com/run?uid="+this.props.uid+"&pid="+this.props.pid+"&func="+this.props.fid;if(this.state.extraUrl&&(t+="&"+this.state.extraUrl),this.state.extraJson)try{JSON.parse(this.state.extraJson),this.setState({status:"loading",response:void 0},function(){O.a.post(t,void 0).then(function(t){e.processResponse(t)}).catch(function(){e.setState({status:"error"})})})}catch(e){this.setState({status:"invalidJson"}),console.log("invalid json")}else this.setState({status:"loading",response:void 0},function(){O.a.get(t).then(function(t){e.processResponse(t)}).catch(function(){e.setState({status:"error"})})})}},{key:"processResponse",value:function(e){console.log("got resp from func",e),this.setState({response:e.data,status:"done"})}},{key:"render",value:function(){var e=this,t=(this.props.uid,this.props.pid),r=this.props.fid;return i.a.createElement("div",{className:"PlayGround__3NES7"},i.a.createElement(ne,null,"Playground"),i.a.createElement("div",{style:{height:12}}),i.a.createElement("div",{className:"subTitle__2npm-"},"Add URL parameters:"),i.a.createElement("div",{style:{height:8}}),i.a.createElement("div",{className:"inputs__2EUQ6",onClick:function(){e.ref&&e.ref.focus()}},"...","&pid="+t+"&func="+r,"&",i.a.createElement("input",{ref:function(t){e.ref=t},value:this.state.extraUrl,placeholder:"extraParam1=...",onChange:function(t){e.setState({extraUrl:t.target.value})}})),i.a.createElement("div",{style:{height:12}}),i.a.createElement("div",{className:"subTitle__2npm-"},"Post JSON:"),i.a.createElement("div",{style:{height:8}}),i.a.createElement("textarea",{value:this.state.extraJson,onChange:function(t){e.setState({extraJson:t.target.value})}}),i.a.createElement("div",{style:{height:8}}),i.a.createElement(Se,{cta:!0,loading:"loading"==this.state.status,onClick:function(){e.sendRequest()}},"start"==this.state.status&&"Send request","invalidJson"==this.state.status&&"Invalid JSON. Click to try again.","error"==this.state.status&&"Error occured. Click to try again.","done"==this.state.status&&"Done!"),i.a.createElement("div",{style:{height:12}}),i.a.createElement("div",{className:"subTitle__2npm-"},"Response:"),i.a.createElement("div",{style:{height:8}}),i.a.createElement("div",{className:"response__1c8ka"},JSON.stringify(this.state.response,null,4)),i.a.createElement("div",{style:{height:24}}))}}])&&on(r.prototype,n),o&&on(r,o),t}(),pn=r(93),fn=r.n(pn);function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dn={style:{EditFunction:"EditFunction__ZbVkq",error:"error__OgTki",done:"done__SCAsC",funcLink:"funcLink__2RFWT",clickToCopy:"clickToCopy__1VsJb",midBox:"midBox__1g0tv",docsLink:"docsLink__1l4Rw",shareUrl:"shareUrl__29t78"}};function bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yn(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gn=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(un=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=yn(this,hn(t).call(this,e))).state={code:"loading..",name:"loading..",loading:!0,status:"start"},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,i.a.Component),r=t,(n=[{key:"updateCode",value:function(e){this.setState({code:e},function(){})}},{key:"send",value:function(){var e=this,t=this.props.match.params.id;this.setState({status:"compiling"},function(){var r;(r=e.state.code,O.a.post("https://compile.luabits.com/",{source:r})).then(function(r){if(r.data.status&&"ok"==r.data.status){var n=r.data.bytecode;e.setState({status:"saving"},function(){T({pid:t,name:e.state.name,source:e.state.code,byteCode:n,public:e.state.pubOverride||void 0===e.state.pubOverride&&e.state.public}).then(function(){e.setState({status:"done"})}).catch(function(t){e.setState({status:"error",errorText:"Error saving the script."}),console.log("err",t)})})}else e.setState({status:"error",errorText:r.data.err}),console.log("err",r)})})}},{key:"changePubStatus",value:function(e){var t=this,r=this.props.match.params.id;this.setState({pubStatus:"loading"},function(){T({pid:r,name:t.state.name,public:e}).then(function(){t.setState({pubStatus:"done",pubOverride:e}),console.log("done that",e)}).catch(function(e){t.setState({pubStatus:"error"}),console.log("err",e)})})}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"fetch",value:function(){var e=this,t=this.props.match.params.id,r=x(),n=this.props.match.params.fid;E.firestore().doc("users/"+r+"/projects/"+t+"/functions/"+n).get().then(function(t){console.log("got func",t.data());var r=t.data();e.setState({name:r.name,public:r.public,code:r.source,loading:!1,showPlay:!1})})}},{key:"render",value:function(){var e=this,t=this.props.match.params.id,r=x(),n=this.props.match.params.fid,o="https://luabits.com/run?uid=";return this.state.loading?i.a.createElement(Kt,null):i.a.createElement(he,{title:i.a.createElement(i.a.Fragment,null,"Edit function: ",this.state.name,i.a.createElement("div",{style:{flex:1}}),"loading"==this.state.pubStatus?i.a.createElement(Se,{slim:!0},i.a.createElement("div",{style:{width:8}}),"Loading...",i.a.createElement("div",{style:{width:8}})):this.state.pubOverride||void 0===this.state.pubOverride&&this.state.public?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{fontWeight:"normal",fontSize:12}},"Share URL:"),i.a.createElement("div",{style:{width:4,height:8}}),i.a.createElement("input",{value:"https://luabits.com/share/"+r+"/"+t+"/"+n,className:F()("shareUrl",dn,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})}),i.a.createElement("div",{style:{height:8,width:4}}),i.a.createElement(Se,{slim:!0,onClick:function(){e.changePubStatus(!1)}},i.a.createElement("div",{style:{width:8}}),"Make private",i.a.createElement("div",{style:{width:8}})),i.a.createElement("div",{style:{height:8}})):i.a.createElement(Se,{slim:!0,cta:!0,onClick:function(){e.changePubStatus(!0)}},i.a.createElement("div",{style:{width:8}}),"Make public",i.a.createElement("div",{style:{width:8}}))),showBack:!0},!R()&&i.a.createElement(nr,null),i.a.createElement("div",{style:{height:8}}),i.a.createElement(Sr,{value:this.state.code,onChange:function(t){console.log("trying"),e.updateCode(t)}}),i.a.createElement("div",{style:{height:8}}),i.a.createElement(Se,{cta:!0,loading:"compiling"==this.state.status||"saving"==this.state.status,onClick:function(){e.send()}},"Update ","done"==this.state.status&&"saved"),"error"==this.state.status&&i.a.createElement("div",{className:"error__OgTki"},"Error: ",this.state.errorText),i.a.createElement("div",{style:{height:8}}),i.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.a.createElement(Vr.CopyToClipboard,{text:o+r+"&pid="+t+"&func="+n},i.a.createElement(Se,{inline:!0},i.a.createElement("div",{style:{width:8}}),"Click to copy",i.a.createElement("div",{style:{width:8}}))),i.a.createElement("div",{style:{width:8}}),i.a.createElement("a",{className:"funcLink__2RFWT",target:"_blank",href:o+r+"&pid="+t+"&func="+n},o,r,"&pid=",t,"&func=",n)),i.a.createElement("div",null),i.a.createElement("div",{style:{height:8}}),i.a.createElement(rn,{pid:t,uid:r,fid:n}),i.a.createElement("div",{style:{height:8}}),i.a.createElement(Se,{onClick:function(){e.setState({showPlay:!e.state.showPlay})}},this.state.showPlay?"Hide":"Show"," playground"),i.a.createElement("div",{style:{height:8}}),i.a.createElement(fn.a,{height:this.state.showPlay?"auto":0},i.a.createElement(ln,{pid:t,uid:r,fid:n})),i.a.createElement(ne,null,"Available APIs:"),i.a.createElement("div",{style:{height:8}}),i.a.createElement(U.Link,{to:"/docs",className:"docsLink__1l4Rw"},"View full docs"),i.a.createElement("div",{style:{height:24}}),i.a.createElement(Ir,null))}}])&&bn(r.prototype,n),o&&bn(r,o),t}())||un;var vn=Object(W.k)(gn);r(613),r(615);function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function On(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cn,Mn=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=kn(this,jn(t).call(this,e))).state={open:!1},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props.data;return t.time&&t.time.toDate&&(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){wn(e,t,r[t])})}return e}({},t,{time:t.time.toDate()})),i.a.createElement("div",{className:"JsonBox__23WxQ",onClick:function(){e.setState({open:!e.state.open})}},i.a.createElement(fn.a,{duration:500,height:this.state.open?"auto":40},JSON.stringify(t,null,4),i.a.createElement("div",{style:{height:8}})))}}])&&On(r.prototype,n),o&&On(r,o),t}();function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var In=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(Cn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tn(this,Nn(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){var e=this.props.match.params.id,t=this.props.match.params.bucket,r="users/"+x()+"/projects/"+e+"/buckets/main/"+t;return console.log(r),i.a.createElement(he,{title:"Bucket: "+t,showBack:!0},i.a.createElement(Ye,{path:r,showEnd:!0,pageSize:10,order:["time","desc"],renderItem:function(e){return i.a.createElement(Mn,{data:e,key:e._id})}}),i.a.createElement(Ne,null))}}])&&xn(r.prototype,n),o&&xn(r,o),t}())||Cn;var Ln,Bn=Object(W.k)(In);r(617);function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jn(e,t){return!t||"object"!==Fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vn=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(Ln=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jn(this,qn(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement(he,{title:"Getting started"},i.a.createElement("div",{style:{height:8}}),i.a.createElement("div",{className:"mid__Ih906"},"Luabits lets you deploy web-scale Lua functions to the cloud in 3 clicks.",i.a.createElement("br",null),"How's that for buzzwords."),i.a.createElement("br",null),i.a.createElement("div",{className:"big__3l3LT"},"Functions"),i.a.createElement("div",{className:"mid__Ih906"},"Write and deploy Lua functions, straight to the cloud.",i.a.createElement("br",null),"Your functions can be called via https, and usually return JSON.",i.a.createElement("br",null),"Functions have access to your buckets, along with a list of other utilities, like logging and controlling the HTTPS response."),i.a.createElement("br",null),i.a.createElement("div",{className:"big__3l3LT"},"Buckets"),i.a.createElement("div",{className:"mid__Ih906"},"Buckets hold your data. The latest in bucket based no-sql datastorage allows you to create, read, update, delete or list JSON objects.",i.a.createElement("br",null),"Put stuff in, take stuff out. Buckets.",i.a.createElement("br",null),"Create one or multiple buckets in your project's settings.",i.a.createElement("br",null),"You can click on a bucket to inspect it's contents.",i.a.createElement("br",null),"Buckets are identiefied by their name, which has to be unique within a project's scope."),i.a.createElement("br",null),i.a.createElement("div",{className:"big__3l3LT"},"Getting started is simple."),i.a.createElement("div",{className:"listItem__3vmFz"},"1. Create a project."),i.a.createElement("div",{className:"listItem__3vmFz"},"2. Create 0 or more buckets, depending on your needs."),i.a.createElement("div",{className:"listItem__3vmFz"},"3. Write and deploy your Lua function"),i.a.createElement("br",null),i.a.createElement("div",{className:"small__2icZX"},"Note: Project / bucket / function names can only contain lower case letters and '-'"),i.a.createElement("div",{style:{height:24}}),i.a.createElement(Se,{big:!0,route:"/project/create"},"Create your first project!"))}}])&&zn(r.prototype,n),o&&zn(r,o),t}())||Ln;var Wn,Un=Object(W.k)(Vn);r(619);function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yn(e,t){return!t||"object"!==Dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kn=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(Wn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yn(this,Hn(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement(he,{title:"Pricing"})}}])&&Qn(r.prototype,n),o&&Qn(r,o),t}())||Wn;var Zn,Xn=Object(W.k)(Kn);r(621);function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function to(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oo=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(Zn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),to(this,ro(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement(he,{title:"Docs"},i.a.createElement(Ir,{showExamples:!0}))}}])&&eo(r.prototype,n),o&&eo(r,o),t}())||Zn;var ao,io=Object(W.k)(oo);r(623);function co(e){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function so(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uo(e,t){return!t||"object"!==co(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fo=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(ao=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,lo(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement(he,{title:"Examples"},i.a.createElement("div",{style:{height:8}}),i.a.createElement(nt,{name:"Hello cloud!",text:"The simplest cloud function you could write.",code:"res.send('Hello World!')",response:"Hello World!",link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=hello-cloud"}),i.a.createElement(nt,{name:"Returning JSON",text:"Respond with JSON in a standarized way.",code:'res.ok({dateString = os.date("today is %A, in %B")})',response:{status:"ok",data:{dateString:"today is Monday, in March"}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=json-example"}),i.a.createElement(nt,{extraClass:"bigger",name:"Getting URL parameters",text:"The query parameters are available through the global variable `req.query`\nIn this case we are getting the number parameter from the url multiplying it by 2.",code:"number = req.query.number -- &number=...\n\nif number then\n  res.ok({result = number*2})\nelse\n  -- no number supplied\n  res.error({message = 'No number supplied'})\nend",response:{status:"ok",data:{result:24}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=get-url-params&number=99"}),i.a.createElement(nt,{extraClass:"bigger",name:"Adding an object to a bucket",text:"As a prequisite, you have to create a bucket in your project. In this example, the bucket is called `todos`\nWe get the `todo` parameter from the URL and use db.create() to create a new entry.\nYou can supply a callback to db.create() but if you don't, a standard response is generated.",code:"todo = req.query.todo\n\nif todo then\n  -- add to previously created bucket 'todos'\n  -- no callback supplied means a standard json response will be generated.\n  db.create('todos', {todo = todo, completed = false})\nelse\n  res.error({message = 'No todo supplied.'})\nend",response:{status:"ok",data:{item:{todo:"Shopping",completed:!1,id:"pE12Id3gktT93AqLrTiC",time:"2019-03-19T17:05:08.805Z"}}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=add-to-bucket&todo=Shopping"}),i.a.createElement(nt,{extraClass:"bigger",name:"Getting an object from a bucket",text:"In this example, we are retrieving an item previously added to our bucket.",code:"todoId = req.query.todoId\n\nif todoId then\n  -- If you don't supply a callback, a standard response is generated\n  db.get('todos',todoId)\nelse\n  res.error({message = 'No todoId given'})\nend",response:{status:"ok",data:{item:{completed:!1,time:"2019-03-19T17:05:08.805Z",todo:"Shopping",id:"pE12Id3gktT93AqLrTiC"}}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=get-from-bucket&todoId=pE12Id3gktT93AqLrTiC"}),i.a.createElement(nt,{extraClass:"",name:"Getting a list of items from a bucket.",text:"Using db.list, we get the 2 newest todos from our bucket. If neither `where` nor `order` clauses are defined, order defaults to 'newest first'.",code:"db.list('todos',{pageSize=2}) -- default sort is 'newest first'.",response:{status:"ok",data:{pageToken:"o2IrRQO48JfUeHO5AudW",items:[{id:"TywaXltcmsxqwToj962d",completed:!1,time:"2019-03-19T17:58:54.809Z",todo:"Shopping"},{completed:!1,time:"2019-03-19T17:29:41.604Z",todo:"Shopping",id:"o2IrRQO48JfUeHO5AudW"}]}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=list-example"}),i.a.createElement(nt,{extraClass:"",name:"Getting the next page.",text:"Using the pageToken we received in the previous example, we can fetch the next page.",code:"db.list('todos',{pageSize=2, pageToken='o2IrRQO48JfUeHO5AudW'})",response:{status:"ok",data:{pageToken:"VlqBjKNGZV14oQxjfkXz",items:[{time:"2019-03-19T17:26:28.294Z",todo:"Shopping",id:"fHAuDyyRsyLMokuJ64Qc",completed:!1},{completed:!1,time:"2019-03-19T17:14:04.961Z",todo:"Shopping",id:"VlqBjKNGZV14oQxjfkXz"}]}},json:!0,link:"https://luabits.com/run?uid=PFVYvJMugsVndmMtcSWj3Rlo2Tz2&pid=examples&func=next-page-example"}),i.a.createElement(Se,null,"Check out the docs for even more examples."))}}])&&so(r.prototype,n),o&&so(r,o),t}())||ao;var mo,bo=Object(W.k)(fo);r(625);function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ho(){return(ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function go(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eo(e,t){return(Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wo=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(mo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),go(this,vo(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement(he,{title:"Your projects"},!R()&&i.a.createElement(nr,null),i.a.createElement("div",{style:{height:8}}),i.a.createElement(Ye,{pageSize:5,path:"users/"+x()+"/projects",renderItem:function(e){return i.a.createElement(ze,ho({},e,{key:e.name}))}}),i.a.createElement("div",{style:{height:4}}),i.a.createElement(Se,{route:"/project/create"},"+ Create a new project"))}}])&&_o(r.prototype,n),o&&_o(r,o),t}())||mo;var Oo=Object(W.k)(wo);r(627);function ko(e){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function So(e,t){return!t||"object"!==ko(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Po=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),So(this,Co(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mo(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:"Footer__1YmCA"},"made by stackola |"," ",i.a.createElement("a",{target:"_blank",href:"https://github.com/stackola"},"github")," ","|"," ",i.a.createElement("a",{target:"_blank",href:"https://twitter.com/Stackola_"},"twitter")," ","|"," ",i.a.createElement("a",{target:"_blank",href:"https://github.com/stackola/luabits-issues/issues"},"report an issue"))}}])&&jo(r.prototype,n),o&&jo(r,o),t}();r(629),r(631);function xo(e){return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function To(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function No(e,t){return!t||"object"!==xo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lo,Bo=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=No(this,Ro(t).call(this,e))).state={open:!1,status:"start",name:""},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(t,i.a.Component),r=t,(n=[{key:"save",value:function(e){var t=this;this.setState({status:"loading"},function(){var r={target:e,f:t.props.funcData,name:t.state.name};(function(e){return M(e)})(r).then(function(e){"ok"!=e.data.status?t.setState({status:"error"}):(console.log(e),t.props.history.push("/project/view/".concat(e.data.newFunc.project,"/editFunction/").concat(e.data.newFunc.name)))}).catch(function(e){console.log(e),t.setState({status:"error"})}),console.log(JSON.stringify(r))})}},{key:"componentDidMount",value:function(){this.setState({name:this.props.name})}},{key:"render",value:function(){var e=this,t=x();return"start"==this.state.status?i.a.createElement("div",{className:"ForkButton__1RFpt"},i.a.createElement(Se,{slim:!0,onClick:function(){e.setState({open:!e.state.open})}},i.a.createElement("div",{style:{width:8}}),"Fork",i.a.createElement("div",{style:{width:8}})),this.state.open&&i.a.createElement("div",{className:"inner__3pEEy"},i.a.createElement("div",null,"Name:"),i.a.createElement("div",{style:{height:8}}),i.a.createElement("input",{onChange:function(t){e.setState({name:N(t.target.value)})},value:this.state.name}),i.a.createElement("div",{style:{height:8}}),"Fork to:",i.a.createElement("div",{style:{height:8}}),i.a.createElement(Ye,{path:"users/".concat(t,"/projects/"),renderItem:function(t){return i.a.createElement("div",{className:"row__f8nii",onClick:function(){e.save(t.name)}},t.name)}}))):"error"==this.state.status?i.a.createElement("div",{className:"ForkButton__1RFpt"},i.a.createElement(Se,{slim:!0,onClick:function(){e.setState({status:"start"})}},i.a.createElement("div",{style:{width:8}}),"Error. Name taken in project?",i.a.createElement("div",{style:{width:8}}))):i.a.createElement("div",{className:"ForkButton__1RFpt"},i.a.createElement(Se,{slim:!0},i.a.createElement("div",{style:{width:8}}),"Loading",i.a.createElement("div",{style:{width:8}})))}}])&&To(r.prototype,n),o&&To(r,o),t}(),Fo=Object(W.k)(Bo);function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qo(e,t){return!t||"object"!==zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ao(e){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vo(e,t){return(Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wo=Object(u.b)(function(e){return{}},function(e){return Object(l.b)(V,e)})(Lo=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=qo(this,Ao(t).call(this,e))).state={func:null,loading:!0},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vo(e,t)}(t,i.a.Component),r=t,(n=[{key:"componentDidMount",value:function(){var e,t=this,r=this.props.match.params,n=r.uid,o=r.pid,a=r.fid;(e={uid:n,pid:o,fid:a},P(e)).then(function(e){console.log("Got public function",e),"ok"!=e.data.status?t.setState({error:!0}):t.setState({func:e.data.func,proj:e.data.proj})}).catch(function(e){t.setState({error:!0})})}},{key:"render",value:function(){var e=this.props.match.params,t=(e.uid,e.pid,e.fid,this.state.func),r=this.state.proj;return t?i.a.createElement(he,{title:i.a.createElement(i.a.Fragment,null,"Function ",t.name,i.a.createElement("div",{style:{flex:1}}),i.a.createElement(Fo,{name:t.name,funcData:{uid:r.user,pid:r.id,fid:t.name}}))},i.a.createElement("div",{style:{height:12}}),i.a.createElement(Sr,{value:t.source,onChange:function(){},readOnly:!0}),i.a.createElement(ln,{fid:t.name,pid:r.id,uid:r.user})):this.state.error?i.a.createElement(he,{title:"Error"},"Function not public."):i.a.createElement(Kt,null)}}])&&Jo(r.prototype,n),o&&Jo(r,o),t}())||Lo;var Uo,Do,Qo=Object(W.k)(Wo);function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ho={style:{app:"app__2-NKO",main:"main__1Qz2V"}};function Go(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ko(e,t){return!t||"object"!==Yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xo(e,t){return(Xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $o,ea=(Uo=Object(u.b)(function(e){return{user:e.user}},function(e){return Object(l.b)(V,e)}),Object(W.k)(Do=Uo(Do=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ko(this,Zo(t).call(this,e))).state={loggedIn:!1,loading:!1,wasLoggedIn:!1},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}(t,a["Component"]),r=t,(n=[{key:"componentDidMount",value:function(){var e=this;E.auth().onAuthStateChanged(function(t){t&&t.uid&&(e.setState({loggedIn:!0,wasLoggedIn:!0}),e.props.userSubscribe()),null==t&&e.setState({loggedIn:!1,loading:!1}),null==t&&0==e.state.wasLoggedIn&&E.auth().setPersistence(v.a.auth.Auth.Persistence.LOCAL).then(function(){E.auth().signInAnonymously().catch(function(e){e.code,e.message})})})}},{key:"signInWithGoogle",value:function(){var e=new v.a.auth.GoogleAuthProvider;this.setState({loading:!0},function(){E.auth().signInWithPopup(e).then(function(e){e.credential.accessToken,e.user;console.log(e)}).catch(function(e){console.log(e),this.setState({loading:!1});e.code,e.message,e.email,e.credential})})}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){this.props.userUnsubscribe()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:F()("main",Ho,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},i.a.createElement(K,null),this.state.loggedIn?i.a.createElement(W.g,null,i.a.createElement(W.d,{exact:!0,path:"/"},i.a.createElement(ut,null)),i.a.createElement(W.d,{exact:!0,path:"/getting-started"},i.a.createElement(Un,null)),i.a.createElement(W.d,{exact:!0,path:"/pricing"},i.a.createElement(Xn,null)),i.a.createElement(W.d,{exact:!0,path:"/docs"},i.a.createElement(io,null)),i.a.createElement(W.d,{exact:!0,path:"/examples"},i.a.createElement(bo,null)),i.a.createElement(W.d,{exact:!0,path:"/projects"},i.a.createElement(Oo,null)),i.a.createElement(W.d,{exact:!0,path:"/share/:uid/:pid/:fid"},i.a.createElement(Qo,null)),i.a.createElement(W.d,{exact:!0,path:"/project/view/:id"},i.a.createElement(fr,null)),i.a.createElement(W.d,{exact:!0,path:"/project/view/:id/createBucket"},i.a.createElement(gr,null)),i.a.createElement(W.d,{exact:!0,path:"/project/view/:id/createFunction"},i.a.createElement(Ar,null)),i.a.createElement(W.d,{exact:!0,path:"/project/view/:id/editFunction/:fid"},i.a.createElement(vn,null)),i.a.createElement(W.d,{exact:!0,path:"/project/view/:id/bucket/:bucket"},i.a.createElement(Bn,null)),i.a.createElement(W.d,{exact:!0,path:"/project/create"},i.a.createElement(Ot,null))):this.state.wasLoggedIn?i.a.createElement(he,null,i.a.createElement("div",{style:{height:4}}),i.a.createElement(Se,{onClick:function(){e.signInWithGoogle()}},"Log in with google")):i.a.createElement(Kt,null),i.a.createElement(Po,null))}}])&&Go(r.prototype,n),o&&Go(r,o),t}())||Do)||Do),ta=r(229),ra=r.n(ta);$o=ea,s.a.render(i.a.createElement(u.a,{store:L},i.a.createElement(U.BrowserRouter,null,i.a.createElement(ra.a,{id:"UA-36673974-2"},i.a.createElement($o,null)))),document.getElementById("app"))},552:function(e,t){},557:function(e,t){e.exports={Header:"Header__ua6JY",inner:"inner__2nAVp",logoWrapper:"logoWrapper__3aRiH",logo:"logo__2hwuC",nav:"nav__1WoF7",navItem:"navItem__1vN62",flexSpacer:"flexSpacer__2L3mQ"}},559:function(e,t){e.exports={Home:"Home__2STab",image:"image__2kR0K",big:"big__3vPIM"}},561:function(e,t){e.exports={Wrapper:"Wrapper__3zuig"}},563:function(e,t){e.exports={Title:"Title__1NSc_",sub:"sub__2sWY2"}},565:function(e,t){e.exports={BackToProject:"BackToProject__Dog72"}},567:function(e,t){e.exports={BigButton:"BigButton__2PUVQ",big:"big__d1t9R",inline:"inline__HkpsU",cta:"cta__3tuRe",slim:"slim__2_dYj"}},569:function(e,t){e.exports={Spacer:"Spacer__mCvPQ"}},571:function(e,t){e.exports={ProjRow:"ProjRow__3b6C_"}},573:function(e,t){e.exports={FirebaseTable:"FirebaseTable__1_oTY",loading:"loading__1_UdQ",horizontal:"horizontal__2M3l_"}},575:function(e,t){e.exports={Example:"Example__3l9ck",code:"code__2ItEx",bigger:"bigger__1QziU",evenBigger:"evenBigger__JohNL",biggest:"biggest__12D9S",response:"response__18dSN",title:"title__3rzW_",tryLink:"tryLink__2R2K-",rest:"rest__2JehZ",noPadding:"noPadding__2QUPj"}},579:function(e,t){},581:function(e,t){e.exports={NewProject:"NewProject__2cm1a"}},583:function(e,t){e.exports={label:"label__3nXF4",BigInput:"BigInput__19t8h",outer:"outer__366aZ"}},585:function(e,t){e.exports={Project:"Project__2irUa"}},587:function(e,t){e.exports={ItemLoader:"ItemLoader__3-Z4C"}},589:function(e,t){e.exports={Bucket:"Bucket__19sjf"}},591:function(e,t){e.exports={FuncRow:"FuncRow__3U47z"}},593:function(e,t){e.exports={Loading:"Loading__B8Eit"}},595:function(e,t){e.exports={LinkAccountArea:"LinkAccountArea__ErDXK",alreadyLinked:"alreadyLinked__1jD7v",accWarn:"accWarn__1cUt7"}},597:function(e,t){e.exports={CreateBucket:"CreateBucket__3gd3p"}},599:function(e,t){e.exports={CreateFunction:"CreateFunction__295xT"}},601:function(e,t){e.exports={LuaBox:"LuaBox__lgLAs"}},603:function(e,t){e.exports={Docs:"Docs__3bFQ-",section:"section__1tyBK",sub:"sub__d0bb9",big:"big__2v8dR",row:"row__1Mxue",indent:"indent__bWkpC",contents:"contents__1KNm3"}},605:function(e,t){e.exports={EditFunction:"EditFunction__ZbVkq",error:"error__OgTki",done:"done__SCAsC",funcLink:"funcLink__2RFWT",clickToCopy:"clickToCopy__1VsJb",midBox:"midBox__1g0tv",docsLink:"docsLink__1l4Rw",shareUrl:"shareUrl__29t78"}},607:function(e,t){e.exports={LogViewer:"LogViewer__35Akg"}},609:function(e,t){e.exports={LogEntry:"LogEntry__3LsjL",time:"time__YE5eY",text:"text__LlNk_"}},611:function(e,t){e.exports={PlayGround:"PlayGround__3NES7",inputs:"inputs__2EUQ6",response:"response__1c8ka",subTitle:"subTitle__2npm-"}},613:function(e,t){e.exports={Bucket:"Bucket__2zBVA"}},615:function(e,t){e.exports={JsonBox:"JsonBox__23WxQ"}},617:function(e,t){e.exports={GettingStarted:"GettingStarted__2_DBm",mid:"mid__Ih906",big:"big__3l3LT",listItem:"listItem__3vmFz",small:"small__2icZX"}},619:function(e,t){e.exports={Pricing:"Pricing__1dgj4"}},621:function(e,t){e.exports={DocsPage:"DocsPage__3JTbZ"}},623:function(e,t){e.exports={Examples:"Examples__1LdS0"}},625:function(e,t){e.exports={Projects:"Projects__2o3Fm"}},627:function(e,t){e.exports={Footer:"Footer__1YmCA"}},629:function(e,t){e.exports={ViewFunction:"ViewFunction__2sNgv"}},631:function(e,t){e.exports={ForkButton:"ForkButton__1RFpt",inner:"inner__3pEEy",row:"row__f8nii"}}});
//# sourceMappingURL=main-f2e8d606f2418301dbfa.js.map